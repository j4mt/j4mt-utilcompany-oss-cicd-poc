!function(e,t,a,s){"use strict";function i(t){var s=this;s.settings=t;var i=a("html").hasClass("ie8")||a("html").hasClass("ie9");t.logging===!1?(e.console=function(){},e.console.log=function(e){},e.console.groupCollapsed=function(e){},e.console.group=function(e){},e.console.groupEnd=function(e){},e.console.info=function(e){},e.console.error=function(e){}):i&&(e.console.groupCollapsed=function(e){console.log(e)},e.console.group=function(e){console.log(e)},e.console.groupEnd=function(e){console.log(e)},e.console.info=function(e){console.log(e)},e.console.error=function(e){console.log(e)}),s.ui={components:{},modules:{},validation:{}},s.device={detection:{}}}e.app=new i({debug:!0,logging:!0})}(this.window,this.document,jQuery),function(e,t){"use strict";var a=e.Device||function(){},s=a.IEDetection=function(e){this.init()};s.prototype.init=function(){this.isOldIE=$("html").hasClass("ie8"),this.isIE8=$("html").hasClass("ie8"),this.isIE9=$("html").hasClass("ie9")},$(t).ready(function(){e.Device=a})}(this.window,this.document),function(e,t,a,s){"use strict";a(t).ready(function(){function s(e){var t=e.find("input[type=radio]"),a=e.find(".toggle-pane");i(t,a)}function i(e,t){e.change(function(){var e=a(this);t.stop().slideUp().removeClass("panel-is-open");var s="postOnly"===e.val()||"postAndEmail"===e.val();if(s){var i=e.parent().find(".toggle-pane");i.stop().slideDown().addClass("panel-is-open")}})}function n(e,t,s){var i=s.length>0?s:"";a(e+" .strength-guide "+t).removeClass("valid error").addClass(i)}function r(e){e.find("input").each(function(){if("checkbox"==a(this).attr("type")||"radio"==a(this).attr("type"))if("checked"==a(this).data("value-preset")){a(this).prop("checked","checked");var e="postOnly"===a(this).val()||"both"===a(this).val(),t=a(".acc-info-module.-epp").length;if(t&&e){var s=a(this).parent().find(".toggle-pane");s.stop().slideDown()}else{var i=a(".acc-info-module.-epp .toggle-pane");i.slideUp()}}else a(this).prop("checked","");else"hidden"!=a(this).attr("type")&&a(this).val(a(this).data("value-preset"))}),e.find("select").each(function(){a(this).parents(".c-input-select").removeClass("valid invalid error"),a(this).val(""),a(this).siblings(".cs-placeholder").text("-Select-")})}function o(e){var t,a,s=new RegExp("[A-Z]");for(t=0,a=e.length;t<a;t++)if(s.test(e[t]))return!0;return!1}function l(e){var t,a,s=new RegExp(/[0-9+-]/);for(t=0,a=e.length;t<a;t++)if(0==s.test(e[t]))return!1;return!0}function d(e){var t=a("select#county"),s=a("select#countyNI"),i=a("input#postcode"),n=a("input#postcodeGlobal"),r=a("select#country");"roi"===e?(r.val("Republic_of_Ireland"),t.prop("disabled",!1),t.removeAttr("tabindex"),s.prop("disabled",!0),s.removeAttr("tabindex",-1),i.prop("disabled",!0),i.attr("tabindex",-1),n.prop("disabled",!0),n.attr("tabindex",-1),t.prop("name","personalDetailsVO.customerAddress.county"),s.prop("name","niCounty")):"ni"===e?(r.val("Northern_Ireland"),s.prop("disabled",!1),s.removeAttr("tabindex"),t.prop("disabled",!0),t.attr("tabindex",-1),i.prop("disabled",!1),i.removeAttr("tabindex"),n.prop("disabled",!0),n.attr("tabindex",-1),t.prop("name","roiCounty"),s.prop("name","personalDetailsVO.customerAddress.county")):(r.val("").trigger("data-refresh"),n.prop("disabled",!1),n.removeAttr("tabindex"),i.prop("disabled",!0),i.attr("tabindex",-1),t.prop("disabled",!0),t.removeAttr("tabindex",-1),s.prop("disabled",!0),s.removeAttr("tabindex",-1),a(".-global input#postcodeGlobal").next(".hint").hide())}function c(e,t){e.preventDefault();var a=t.data("country-option");t.closest(".address-country").find(".country-option").removeClass("-is-active"),t.is("select")&&(a=t.find("option[value="+t.val()+"]").data("country-option")),t.closest(".address-country").find(".country-option.-"+a).addClass("-is-active"),d(a)}if(a(".acc-info-module.-epp").each(function(){s(a(this))}),a(".mod-acc-info").length>0){if(a(".case-sensitive-input").length>0&&(a(e).capslockstate(),a(e).bind("capsOn",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&a(".caps-lock").show()}),a(e).bind("capsOff",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&a(".caps-lock").hide().parents(".msg.-tip.is-active").removeClass("is-active")}),a(e).bind("capsUnknown",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&a(".caps-lock").hide().parents(".msg.-tip.is-active").removeClass("is-active")}),a(".case-sensitive-input").bind("focusout",function(e){a(".caps-lock").hide()})),t.msCapsLockWarningOff=!0,a(".case-sensitive-notice").length>0&&a(".case-sensitive-notice").on("focusin change keyup paste mouseup",function(e){o(a(this).val())?a(".case-notice").show():a(".case-notice").hide()}),a("#username-form #emailAsUsername").length>0){var u=a("#emailAsUsername").val();u.length>0?(a("#username").val()===u&&(a("#username").parents(".form-field").addClass("-has-related-input"),a("#use_email").prop("checked",!0)),a("#username").keyup(function(){var e=a(this).val();e===u?a("#use_email").prop("checked",!0):a("#use_email").prop("checked",!1)}),a("#use_email").click(function(){1==a(this).prop("checked")?a("#username").val(a("#emailAsUsername").val()):(a("#username").val(""),a("#username").parents(".form-field").removeClass("valid error"))})):(a("#username").parents(".form-field").removeClass("-has-related-input"),a("#use_email").parents(".form-field").addClass("-is-hidden"))}if(a("#username-form #username").focusin(function(){a(".msg.username-tips").addClass("is-active");var e=a(this).val(),t=a("#username-form #confirmPassword").val();t.length>0&&(g=e==t?"error":"valid",n(".username-tips",".same",g))}),a("#username-form #username").focusout(function(){a(".msg.username-tips").removeClass("is-active")}),a("#username-form #confirmPassword").focusin(function(){1==a(e).capslockstate("state")&&a(".msg.password-tips .caps-lock").show().parents(".password-tips").addClass("confirm-password is-active")}),a("#username-form #confirmPassword").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("form.-password-form #password").on("focusin change keyup paste mouseup",function(t){a(this).closest("form").find(".msg.password-tips").addClass("current-password"),1==a(e).capslockstate("state")&&a(this).parents("form").find(".password-tips").addClass("current-password is-active")}),a("form.-password-form #password").focusout(function(){a(".msg.password-tips").removeClass("new-password current-password is-active")}),a("form.-password-form #newPassword").on("focusin",function(t){a(this).closest("form").find(".msg.password-tips").addClass("new-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().closest(".password-tips").addClass("is-active")}),a("form.-password-form #newPassword").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("form.-password-form #newPasswordConfirmation").on("focusin change keyup paste mouseup",function(t){a(this).closest("form").find(".msg.password-tips").addClass("confirm-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().parents("form").find(".password-tips").addClass("confirm-password is-active")}),a("form.-password-form #newPasswordConfirmation").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a('#eBillingPanel form input[name="electronicBillingDetailsVO.notificationOption"]').on("change",function(e){"postOnly"==a(this).val()?(a("#eBillingPanel .email-field").removeClass("-is-active"),a("#eBillingEmail").val("")):(a("#eBillingPanel .email-field").addClass("-is-active"),""==a("#eBillingEmail").val()&&a("#eBillingEmail").val(a("#eBillingEmail").data("value-preset")))}),a("#contactForm #meterSMSYes").length>0){var h=a("input#mobileNumber"),p=h.val(),f=a("input#meterSMSYes"),m=a("#meterReadingReminderSmsSubscribed");"true"!==m.val()?(f.parent().hide(),f.prop("checked",!1)):"true"===m.val()&&p.length>0?f.parent().show():(f.parent().hide(),f.prop("checked",!1)),h.on("change keyup paste",function(e){p=h.val(),p.length>0&&l(p)&&"true"===m.val()?f.parent().show():(f.parent().hide(),f.prop("checked",!1))})}a(".msg.-tip").length&&a(".msg.-tip").hasClass("-floating-panel")&&a(".form-inputs input").bind("focusin",function(e){var t=a(this).position();a(".msg.-tip").css("top",t.top)});var g;if(a("#username-form #username").on("focusin change keyup paste mouseup",function(e){var t=a("#username-form #username").val(),s=a("#username-form #confirmPassword").val();g=t.length>=6&&t.length<=60?"valid":"error",n(".username-tips",".length",g),g=t.match(/\s/g)?"error":"valid",n(".username-tips",".space",g),s.length>0&&(g=t==s?"error":"valid",n(".username-tips",".same",g))}),a("#newPassword").on("focusin change keyup paste mouseup",function(e){var t=0,s=a("#newPassword").val();switch(s.length<8&&(t=0),s.length>=8&&s.length<=32?(t++,n(".password-tips",".length","valid")):n(".password-tips",".length","error"),s.match(/[A-Z]/)&&t++,s.match(/[a-z]/)&&s.match(/[A-Z]/)?(t++,n(".password-tips",".case","valid")):n(".password-tips",".case","error"),s.match(/[0-9]/)?(t++,n(".password-tips",".number","valid")):n(".password-tips",".number","error"),s.match(/\s/g)?(t=0,n(".password-tips",".space","error")):n(".password-tips",".space","valid"),a(".password-tips .strength-guide .length").hasClass("valid")&&a(".password-tips .strength-guide .case").hasClass("valid")&&a(".password-tips .strength-guide .number").hasClass("valid")&&a(".password-tips .strength-guide .space").hasClass("valid")&&(s.length>12&&t++,s.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&t++),a("#pwdMeter").removeClass(),a("#pwdMeter").addClass("neutral"),t){case 1:a("#pwdMeter").addClass("veryweak");break;case 2:a("#pwdMeter").addClass("weak");break;case 3:a("#pwdMeter").addClass("medium");break;case 4:a("#pwdMeter").addClass("strong");break;case 5:a("#pwdMeter").addClass("verystrong");break;case 6:a("#pwdMeter").addClass("verystrong");break;default:a("#pwdMeter").addClass("neutral")}}),a(".mod-acc-info").length){var v=function(e){C(e),e.addClass("-is-form"),e.removeClass("-is-display"),y(e)},w=function(e){e.addClass("-is-display"),e.removeClass("-is-form"),y(e),b(e)},y=function(e){e.addClass("-is-transitioning"),setTimeout(function(){e.removeClass("-is-transitioning")},50)},b=function(e){var t=e.find(".form-details");r(t),e.find("form .form-field").each(function(){a(this).removeClass("valid error"),a(this).find(".inline-error").hide()})},C=function(){var e=a(".acc-info-module.-is-form");e.each(function(){w(a(this))})},k=function(e){e.addClass("can-animate"),e.hasClass("-is-display")?v(e):w(e)};a(".panel-link").on("click",function(e){if("#"===a(this).attr("href")){e.preventDefault();var t=a(this).closest(".acc-info-module")||!1;if(!t)return!1;k(t)}}),a(".-contact-details .-change").on("click",function(e){if("#"===a(this).attr("href")){e.preventDefault();var t=a(this).closest(".acc-info-module")||!1;if(!t)return!1;k(t)}}),a(".cancel-link").on("click",function(e){if("#"===a(this).attr("href")){e.preventDefault(),r(a(this).parents(".form-details"));var t=a(this).parents(".acc-info-module");t.find("form .form-field").each(function(){a(this).removeClass("valid error"),a(this).find(".inline-error").hide()}),t.toggleClass("-is-display -is-form");var s=a(this).parents(".acc-info-module").offset().top;a("html,body").scrollTop(s)}}),a(".-display-multiple-address").on("click",function(e){e.preventDefault();var t=a(this).text(),s=a(this).data("label-toggle");a(this).parents(".multiple-address").toggleClass("-is-active"),a(this).text(s).data("label-toggle",t)});var $=a(".country-option.-is-active"),D=(a("select#country"),"");$.hasClass("-roi")?D="roi":$.hasClass("-ni")&&(D="ni"),d(D),a(".-switch-country").on("click",function(e){c(e,a(this))}),a("select#country").change(function(e){var t=a(this).val();"United_Kingdom"===t?a(".-global input#postcodeGlobal").next(".hint").show():"Republic_of_Ireland"===t||"Northern_Ireland"===t?c(e,a(this)):a(".-global input#postcodeGlobal").next(".hint").hide()})}if(a(".mod-acc-info").length>0)if(a(".msg.-info").not(".-no-box").delay(4e3).fadeTo(500,0,function(){a(this).slideUp(500,function(){a(this).remove()})}),a(".msg.-error").length>0){var x=a(".msg.-error:first").closest(".acc-info-module"),P=x.offset().top;a("html,body").animate({scrollTop:P},"slow")}else if(a("#passwordPanel").hasClass("-is-form")&&a("#password-form-step2").length>0){var P=a("#password-form-step2").closest(".acc-info-module").offset().top;a("html,body").scrollTop(P)}}})}(window,document,jQuery),function(e,t,a,s){"use strict";e.console||(console={log:function(){}});var i=function(){this.$panels,this.$arrows,this.init()};i.prototype.init=function(){this.$panels=a(".accordion dd").hide(),a(".accordion dt").prepend(a('<span class="icon plus"></span>')),a(".accordion dt").append(a('<span class="arrow bottom"></span>')),this.events()},i.prototype.events=function(){var e=this;a(".accordion a[accordion-trigger]").click(function(){var t=a(this);return e.$panels.stop().slideUp(),a(".accordion dt span.arrow").removeClass("top").removeClass("bottom"),a(".accordion dt span.icon").removeClass("plus").removeClass("minus"),t.hasClass("active")?(t.removeClass("active"),a(".accordion dt span.arrow").addClass("bottom").removeClass("top"),a(".accordion dt span.icon").addClass("plus").removeClass("minus")):(t.next().stop().slideDown(),a(".accordion a").removeClass("active"),t.addClass("active"),a(".accordion dt span.arrow").addClass("bottom"),t.find("span.arrow").addClass("top").removeClass("bottom"),a(".accordion dt span.icon").addClass("plus"),t.find("span.icon").addClass("minus").removeClass("plus")),!1})},a(function(){new i})}(this,this.document,$),$(document).ready(function(){"use strict";!function(){var e=$(".js-change-requires-pw");return e.each(function(e,t){$(this).on("keydown",function(){$(this).parent().next(".password").show()})}),e.length}(),function(){var e,t=$(".form-details input[type=text], .form-details .SumoSelect p");t.each(function(t,a){$(this).on("keydown",function(t){if(13===(t.keyCode?t.keyCode:t.which))return $(this).nextAll("[type=text]").length?($(this).nextAll("[type=text]").select(),!1):(e=$(this).closest(".row").next().find("input[type=text], .SumoSelect p").first(),e.hasClass("SlectBox")?e.click().focus():e.select(),!1)})})}(),function(){function e(e,t,a){e.on("change",function(){var e=$(this).val()||"";a.indexOf(e)>-1?(t.show(),s(n.find(".row:not(.submit):visible"))):(t.hide(),s(n.find(".row:not(.submit):visible")))})}function t(e,t,a,s,i){e.on("change",function(){var e=$(this).val()||"";a.indexOf(e)>-1?t.html(s):t.html(i)})}function a(e,t){var a=["ANTRIM","ARMAGH","DERRY","DOWN","FERMANAGH","TYRONE"];e.on("change",function(){var e=$(this).val()||"";t.indexOf(e)>-1?$("#county").find("option").each(function(){a.indexOf(this.value)!==-1&&this.index>0?$(this).parent()[0].sumo.disableItem(this.index):$(this).parent()[0].sumo.enableItem(this.index)}):$("#county").find("option").each(function(){a.indexOf(this.value)===-1&&this.index>0?$(this).parent()[0].sumo.disableItem(this.index):$(this).parent()[0].sumo.enableItem(this.index)})})}function s(e){e.removeClass("odd-row"),e.each(function(e,t){(e+1)%2&&$(t).addClass("odd-row")})}var i=!1,n=$("#saveBillingAddressDetails .form-details"),r=n.find("#county"),o=r.closest(".row"),l=n.find("#country"),d=(l.closest(".row"),n.find("#postcode")),c=d.closest(".row");o.hasClass("js-show")||o.hide(),c.hasClass("js-show")||c.hide(),s(n.find(".row:not(.submit):not([style])")),e(l,o,["Republic_of_Ireland","Northern_Ireland"]),i?e(l,c,["United_Kingdom","Northern_Ireland","Republic_of_Ireland"]):e(l,c,["United_Kingdom","Northern_Ireland"]),t(l,c.find("label"),["Republic_of_Ireland"],"Eircode:","Postcode:"),a(l,["Republic_of_Ireland"])}(),function(){function e(e){e.is(":visible")||e.show(),e.closest(".module").hasClass("open")||e.closest(".module").find("a.change").click()}var t=function(){};window.formErrors=new t;var a={username:{name:{row:$("#username-form .row.username"),err:$("#username-form .row.username .msg-error")},password:{row:$("#username-form .row.password"),err:$("#username-form .row.password .msg-error")}},email:{name:{row:$("#email-form .row.email"),err:$("#email-form .row.email .msg-error")},password:{row:$("#email-form .row.password"),err:$("#email-form .row.password .msg-error")}},password:{current:{row:$("#currentPasswordRow"),err:$("#currentPasswordRow  .msg-error")},updated:{rows:$("#newPasswordRow, #newConfirmPasswordRow"),err:$("#newConfirmPasswordRow  .msg-error")}}};t.prototype.showUsernameError=function(t){a.username.name.row.addClass("-error"),a.username.name.err.html(t);var s=a.username.name.row;e(s)},t.prototype.showUsernamePasswordError=function(t){a.username.password.row.addClass("-error"),a.username.password.err.html(t);var s=a.username.password.row;e(s)},t.prototype.showEmailError=function(t){a.email.name.row.addClass("-error"),a.email.name.err.html(t);var s=a.email.name.row;e(s)},t.prototype.showEmailPasswordError=function(t){a.email.password.row.addClass("-error"),a.email.password.err.html(t);var s=a.email.password.row;e(s)},t.prototype.showCurrentPasswordError=function(e){a.password.current.row.addClass("-error"),a.password.current.err.html(e)},t.prototype.showUpdatedPasswordError=function(e){a.password.updated.rows.addClass("-error"),a.password.updated.err.html(e)},t.prototype.hideAllErrors=function(){return $(".row.-error").removeClass("-error")},t.prototype.hideUsernameError=function(){a.username.name.row.removeClass("-error"),a.username.name.err.html("")},t.prototype.hideUsernamePasswordError=function(){a.username.password.row.removeClass("-error"),a.username.password.err.html("")},t.prototype.hideEmailError=function(){a.email.name.row.removeClass("-error"),a.email.name.err.html("")},t.prototype.hideEmailPasswordError=function(){a.email.password.row.removeClass("-error"),a.email.password.err.html("")},t.prototype.hideCurrentPasswordError=function(){a.password.current.row.removeClass("-error"),a.password.current.err.html("")},t.prototype.hideUpdatedPasswordError=function(){a.password.updated.rows.removeClass("-error"),a.password.updated.err.html("")}}()}),function(e,t,a,s){"use strict";a(t).ready(function(){function t(){a(".form-details").slideUp(),a(".display-details").slideDown(),a(".change").show(),a(".cancel-change").hide()}function s(){a("[data-grow-list]").each(function(){var e=a(this).find(".btn"),t=a(this).children(".row[style]");t.hide(),e.css({opacity:1,cursor:"pointer"})})}function i(){var e=5e3,t=a(".msg-flash.-cancelled");t.length&&(t.addClass("-showing"),setTimeout(function(){t.removeClass("-showing")},e))}function n(){a(".msg-flash").removeClass("-showing")}!function(e){return!!e&&(a(".form-details").length&&(a("#moving-out").length||a(".form-details div.row:even").addClass("odd-row")),a(".form-stripe").length&&a(".form-stripe div.row:odd").addClass("odd-row"),a("table.stripe").length&&a(".module table.stripe tr:even td").addClass("odd-row"),void(a("table.stripe-only").length&&a(".module table.stripe-only tr:even td").addClass("odd-row")))}(a("#account-information").length>0),a(".change").length&&(a(".change").on("click",function(){var i,r,o=a(this),l=0;return t(),n(),s(),a(this).siblings(".display-details").hasClass("-no-hide")||a(this).siblings(".display-details").slideUp(300),a(this).siblings(".form-details").slideDown(300),a(this).hide().siblings(".cancel-change").show(),a(".module").removeClass("open"),a(this).parents(".module").addClass("open"),l=function(){return o.nextAll("h2").offset().top-30},i=o.nextAll("h2").offset().top,e.setTimeout(function(){r=o.nextAll("h2").offset().top,i-r>400&&a("html, body").animate({scrollTop:l()},300)},400),!1}),a(".cancel a").on("click",function(){return a(this).parents(".form-details").slideUp(),a(this).parents().siblings(".display-details").slideDown(),a(this).parents().siblings(".change").show(),a(this).parents().siblings(".cancel-change").hide(),a(this).parents(".module").removeClass("open"),i(),!1}),a(".cancel-change").on("click",function(){return a(this).siblings(".form-details").slideUp(),a(this).siblings(".display-details").slideDown(),a(this).hide(),a(this).siblings(".change").show(),a(this).parents(".module").removeClass("open"),i(),!1}),a(".open").length&&(a(".open").children(".module-content").children(".display-details").hide(),a(".open").children(".module-content").children(".form-details").show()),"true"==a("input#meterSMSYes:checked","form[name=meterReadReminder]").val()&&a(".mobileSmsAlertNumber_container").show(),a("#change-my-details .change").click(function(){a("#security-warning").show()}),a("#change-my-details .cancel-change").click(function(){a("#security-warning").hide()}),a("#change-my-details .cancel a").click(function(){a("#security-warning").hide()}),a("#billing-notification .change").click(function(){a("#billing-text").hide()}),a("#billing-notification .cancel-change").click(function(){a("#billing-text").show()}),a("#billing-notification .cancel a").click(function(){a("#billing-text").show()}),a("#BillingNotNo").is(":checked")&&a("#billNotEmailRow").hide(),a("#BillingNotNo").click(function(){a("#billNotEmailRow").slideUp()}),a("#BillingNotYes").click(function(){a("#billNotEmailRow").slideDown()}),a("#eBillingNo").is(":checked")&&a("#eBillingEmailRow").hide(),a("#eBillingNo").click(function(){a("#eBillingEmailRow").slideUp()}),a("#eBillingYes").click(function(){a("#eBillingEmailRow").slideDown()}),a("#meterSMSNo").is(":checked")&&a("#meterSMSRow").hide(),a("#meterSMSNo").click(function(){a("#meterSMSRow").slideUp()}),a("#meterSMSYes").click(function(){a("#meterSMSRow").slideDown()}),a("#meterEmailNo").is(":checked")&&a("#meterEmailRow").hide(),a("#meterEmailNo").click(function(){a("#meterEmailRow").slideUp()}),a("#meterEmailYes").click(function(){a("#meterEmailRow").slideDown()}),a("#marketingNo").is(":checked")&&a("#marketing-contact").hide(),a("#marketingNo").click(function(){a("#marketing-contact").slideUp()}),a("#marketingYes").click(function(){a("#marketing-contact").slideDown()}),a("#marketingByPost").is(":checked")&&a("#marketingEmailRow").hide(),a("#marketingByPost").click(function(){a("#marketingEmailRow").slideUp()}),a("#marketingByEmail").click(function(){a("#marketingEmailRow").slideDown()}))})}(window,document,jQuery),function(e,t,a,s){"use strict";var i=function(e){return e.closest(".form-details").length},n=function(e){return e.closest(".named-contacts").find(".change").first().click()},r=function(e){return"hidden"!==e[0].type&&"text"!==e[0].type||e.val(""),"checkbox"===e[0].type&&e.attr("checked",!0),e[0].type},o=function(e,t){var a=e.attr("name"),s=e.attr("id"),i=e.attr("for"),n=e.attr("placeholder");a&&(a=a.substr(0,a.length-1)+t,e.attr("name",a)),s&&(s=s.substring(0,s.length-1)+t,e.attr("id",s)),i&&(i=i.substring(0,i.length-1)+t,e.attr("for",i)),n&&e.attr("placeholder","")},l=function(e){var t=e.closest(".form-details").find(".additional-contact-form"),s=t.first().clone(),i=t.length;s.find("input").each(function(){r(a(this))}),s.addClass("incoming"),s.find(".-error").removeClass("-error"),s.find(".chk-auth + label").html("I authorise this person to contact SSE Airtricity on my behalf."),s.find(".chk-auth").prop("checked",!0),s.find("input, label").each(function(){o(a(this),i)}),s.find("label.error").remove(),e.before(s),setTimeout(function(){s.removeClass("incoming")},10),s.find('[name="contactChkAuth'+i+'"]').rules("add",{requiredIfNameNotEmpty:!0,messages:{requiredIfNameNotEmpty:"Please check the box to authorise this person to contact our customer service agents on your behalf."}})},d=function(){var e=a(".add-new-contact");e.each(function(){a(this).on("click",function(e){e.preventDefault();var t=a(this);i(t)?l(t):n(t)})})},c=function(){a(".contacts-list .delete-contact").on("click",function(e){e.preventDefault(),a(this).closest(".row").addClass("delete-me").find("input").val("true")})};a(t).ready(function(){d(),c()})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";function i(e,t,s){var i=s.length>0?s:"";a(e+" .strength-guide "+t).removeClass("valid error").addClass(i)}function n(e){var t,a,s=new RegExp("[A-Z]");for(t=0,a=e.length;t<a;t++)if(s.test(e[t]))return!0;return!1}a(t).ready(function(){if(a(".mod-auth-reset").length>0){if(a("#forgotUsernamePasswordForm #password").focusin(function(){a(".msg.password-tips").addClass("new-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().parents(".password-tips").addClass("is-active")}),a("#forgotUsernamePasswordForm #password").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("#forgotUsernamePasswordForm #confirmPassword").focusin(function(){a(".msg.password-tips").addClass("confirm-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().parents(".password-tips").addClass("is-active")}),a("#forgotUsernamePasswordForm #confirmPassword").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("#usernamePasswordForm #username").focusin(function(){a(".msg.username-tips").addClass("is-active")}),a("#usernamePasswordForm #username").focusout(function(){a(".msg.username-tips").removeClass("new-password confirm-password is-active")}),a("#usernamePasswordForm #password").focusin(function(){a(".msg.password-tips").addClass("new-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().parents(".password-tips").addClass("is-active")}),a("#usernamePasswordForm #password").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("#usernamePasswordForm #confirmPassword").focusin(function(){a(".msg.password-tips").addClass("confirm-password"),1==a(e).capslockstate("state")&&a(".caps-lock").show().parents(".password-tips").addClass("is-active")}),a("#usernamePasswordForm #confirmPassword").focusout(function(){a(".msg.password-tips").removeClass("new-password confirm-password is-active")}),a("#emailAsUsername").length){var s=a("#emailAsUsername").val();s.length>0?(a("#username").val(s),a("#username").parents(".form-field").addClass("-has-related-input"),a("#use_email").prop("checked",!0),a("#username").keyup(function(){var e=a(this).val();e===s?a("#use_email").prop("checked",!0):a("#use_email").prop("checked",!1)}),a("#use_email").click(function(){1==a(this).prop("checked")?a("#username").val(a("#emailAsUsername").val()):(a("#username").val(""),a("#username").parents(".form-field").removeClass("valid error"))})):(a("#username").parents(".form-field").removeClass("-has-related-input"),a("#use_email").parents(".form-field").addClass("-is-hidden"))}var r;a("#username").keyup(function(){var e=a("#username").val(),t=a("#password").val();r=e.length>=6&&e.length<=60?"valid":"error",i(".username-tips",".length",r),r=e.match(/\s/g)?"error":"valid",i(".username-tips",".space",r),r=e==t?"error":"valid",i(".username-tips",".same",r)}),a("#password").keyup(function(){var e=0,t=a("#password").val();switch(t.length<8&&(e=0),t.length>=8&&t.length<=32?(e++,i(".password-tips",".length","valid")):i(".password-tips",".length","error"),t.match(/[A-Z]/)&&e++,t.match(/[a-z]/)&&t.match(/[A-Z]/)?(e++,i(".password-tips",".case","valid")):i(".password-tips",".case","error"),t.match(/[0-9]/)?(e++,i(".password-tips",".number","valid")):i(".password-tips",".number","error"),t.match(/\s/g)?(e=0,i(".password-tips",".space","error")):i(".password-tips",".space","valid"),a(".password-tips .strength-guide .length").hasClass("valid")&&a(".password-tips .strength-guide .case").hasClass("valid")&&a(".password-tips .strength-guide .number").hasClass("valid")&&a(".password-tips .strength-guide .space").hasClass("valid")&&(t.length>12&&e++,t.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&e++),a("#pwdMeter").removeClass(),a("#pwdMeter").addClass("neutral"),e){case 1:a("#pwdMeter").addClass("veryweak");break;case 2:a("#pwdMeter").addClass("weak");break;case 3:a("#pwdMeter").addClass("medium");break;case 4:a("#pwdMeter").addClass("strong");break;case 5:a("#pwdMeter").addClass("verystrong");break;case 6:a("#pwdMeter").addClass("verystrong");break;default:a("#pwdMeter").addClass("neutral")}}),a(".msg.-tip").length&&!a(".msg.-tip").hasClass("-floating-panel")&&a(".form-inputs input").bind("focusin",function(e){var t=a(this).position();a(".msg.-tip").css("top",t.top)}),a(".case-sensitive-input").length>0&&(a(e).capslockstate(),a(e).bind("capsOn",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&(a(".caps-lock").show().parents(".msg.-tip.is-active").addClass("is-active"),a(".caps-lock").show().parents(".msg.-tip.confirm-password").addClass("is-active"))}),a(e).bind("capsOff",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&a(".caps-lock").hide().parents(".msg.-tip.is-active").removeClass("is-active")}),a(e).bind("capsUnknown",function(e){var t=a(":focus");t.hasClass("case-sensitive-input")&&a(".caps-lock").hide().parents(".msg.-tip.is-active").removeClass("is-active")}),a(".case-sensitive-input").bind("focusout",function(e){a(".caps-lock").hide()})),t.msCapsLockWarningOff=!0,a(".case-sensitive-notice").length>0&&a(".case-sensitive-notice").on("focusin change keyup paste mouseup",function(e){n(a(this).val())?a(".case-notice").show():a(".case-notice").hide()})}})}(window,document,jQuery),function(e,t,a,s){"use strict";function i(){var e;o.each(function(t,s){for(var i in d)if(d.hasOwnProperty(i)&&a(i).length){l=d[i];for(var o=l.length-1;o>=0;o--)e=a(this).find(i+" "+l[o]),e.length&&e.height("auto"),r(e,n(e))}})}function n(e){var t=0;return e.each(function(){t=a(this).height()>t?a(this).height():t}),t}function r(e,t){return e.height(t)}var o,l,d={};a(t).ready(function(e){o=e("[data-js-module=eqHeight]"),d={".info-container":[".info-panel"]},i()})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";e.console||(console={log:function(){}});var i=function(){this.init()};i.prototype.init=function(){a("select.SlectBox.basic").SumoSelect(),a("select.SlectBox.multi").SumoSelect({csvDispCount:2}),a("select.SlectBox.multi-select-all").SumoSelect({csvDispCount:2,selectAll:!0}),a(".SumoSelect p.select-all label").text("View all")},a(function(){new i})}(this,this.document,$),function(e,t){"use strict";$(t).ready(function(){if(!e.Modules)return!1;var t,a=(new e.Modules,$("[data-js-module]"));console.groupCollapsed("Module initialisation");for(var s=0;s<a.length;s++){t=$(a[s]).data("js-module");var i=null;try{i=new Modules[t](a[s])}catch(n){console.error(n),console.info(t,"is not a valid module, moving on...")}i&&(console.groupCollapsed(t+" module"),console.info(a[s]),console.groupEnd(t+" module"))}console.groupEnd("Module initialisation")})}(this.window,this.document),function(e,t,a,s){"use strict";a(t).ready(function(){var t,s,i,n,r,o=a("[data-has-wait-state]");o.each(function(){n=a(this).html(),r=a(this).data("has-wait-state").length?a(this).data("has-wait-state"):"Please wait",i=a(this).data("cookie-id"),a(this).on("click",function(o){return!a(this).hasClass("js-please-wait")&&(a(this).addClass("js-please-wait").html(r+"<i></i>"),void(t=setInterval(s.bind(e,{elmnt:this,txt:n,cookieName:i}),250)))})}),s=function(e){a.cookie(e.cookieName)&&(a(e.elmnt).removeClass("js-please-wait").html(e.txt),a.cookie(e.cookieName,null),clearInterval(t))}})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";a(t).ready(function(){a(".change-user-region").length>0&&a(".change-user-region a.region-current").click(function(e){e.preventDefault(),a(this).parents(".change-user-region").toggleClass("is-active")})})}(this,this.document,$),function(e,t,a,s){"use strict";e.console||(console={log:function(){}});var i=function(){this.init()};i.prototype.init=function(){this.events(a("[data-tooltip]"))},i.prototype.events=function(t){var s=this;t.on("click",function(e){s.addOrRemoveTooltip(a(this),t),e.preventDefault()}),a(e).resize(function(){t.removeClass("show"),s.removeTooltip()})},i.prototype.addTooltip=function(t,s){var i=a("[data-tooltip-content="+t.attr("data-tooltip")+"]"),n=i.html(),r=a('<div id="responsive-tooltip"></div>'),o=a('<a href="#" class="close"></a>');
if(!n||""===n)return!1;r.css("opacity",0).html(n).appendTo("body"),o.on("click",function(e){e.preventDefault(),s.removeClass("show"),r.remove()}),setTimeout(function(){a("body").one("click",":not(#responsive-tooltip, #responsive-tooltip *)",function(e){r.remove()})},100),o.appendTo(r),a(e).width()<1.5*r.outerWidth(!1)?"undefined"!=typeof i.attr("data-width")?r.css("max-width",i.attr("data-width")):r.css("max-width",a(e).width()/2):r.css("max-width",i.attr("data-width"));var l=t.offset().left+t.outerWidth(!1)/2-r.outerWidth(!1)/2,d=t.offset().top-r.outerHeight(!1)-20;if(l<0?(l=t.offset().left+t.outerWidth(!1)/2-20,r.addClass("left")):r.removeClass("left"),l+r.outerWidth(!1)>a(e).width()?(l=t.offset().left-r.outerWidth(!1)+t.outerWidth(!1)/2+20,r.addClass("right")):r.removeClass("right"),d<0?(d=t.offset().top+t.outerHeight(!1),r.addClass("top")):r.removeClass("top"),t.is("[data-tooltip-settings]")){var c=t.attr("data-tooltip-settings").replace(/ /g,"").split(",");c.indexOf("bottom")>-1&&(r.addClass("bottom"),d+=r.outerHeight(!1)+33)}if(t.is("[data-tooltip-class]")){var u=t.attr("data-tooltip-class");u.length>0&&r.addClass(u)}r.css({left:l,top:d}).animate({top:"+=10",opacity:1},50)},i.prototype.removeTooltip=function(){a("#responsive-tooltip").remove()},i.prototype.addOrRemoveTooltip=function(e,t){this.removeTooltip(),e.hasClass("show")?e.removeClass("show"):(t.removeClass("show"),e.addClass("show"),this.addTooltip(e,t))},a(function(){setTimeout(function(){new i},500)})}(this,this.document,$),function(e,t,a,s){"use strict";a(t).ready(function(){a("[data-grow-list]").each(function(){var t,s,i,n,r=a(this).find(".btn"),o=a(this).children(".row"),l="number"==typeof a(this).data("grow-list")?a(this).data("grow-list"):5,d=25,c=8===e.sseIEVersion||9===e.sseIEVersion?500:0;r.on("click",function(a){a.preventDefault(),s=o.filter(":not(:visible)"),t=s.length>=l?l:s.length,n=0,i=setInterval(function(){s.eq(n).fadeIn(500),n++===t-1&&clearInterval(i)},d),setTimeout(function(){0===o.filter(":not(:visible)").length&&(r.css({opacity:"0",cursor:"default"}),8===e.sseIEVersion&&r.css({"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",cursor:"default"}))},d*t+d+c)})})})}(this.window,this.document,jQuery),this.sseDataTables={},function(e,t,a,s){"use strict";e.console||(console={log:function(){}});var i=0,n=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e.split(" "),s=t.indexOf(a[1]);return new Date(a[2],s,a[0])},r=function(){return a(t).height()-(a(e).height()+a(e).scrollTop())},o=function(e){a("body").hasClass("commercial")?this.numRows=50:this.numRows=24,this.$dataTableContainer=e,this.init()};o.prototype.init=function(){var e=this;this.$targetTable=this.$dataTableContainer.find(".data-table"),this.dataTable=this.$targetTable.DataTable(this.settings()),this.$datePickerFrom=this.$dataTableContainer.find("#date-from div"),this.$datePickerTo=this.$dataTableContainer.find("#date-to div"),this.$dateFilterButton=this.$dataTableContainer.find(".btn-date-filter"),this.$calendarCloseButton=this.$dataTableContainer.find(".calendar-container a.close"),this.$calendarContainer=this.$dataTableContainer.find(".calendar-container"),this.$dateRangeField=this.$dataTableContainer.find("input.date-range"),this.$dateClearButton=this.$dataTableContainer.find(".btn-date-clear"),this.$paginationButtons=this.$dataTableContainer.find(".paginate_button"),a(".dataTables_filter").hide(),this.$targetTable.find("tr").each(function(){var t=a(this).children("td").first().text();a(this).attr("data-date",e.getDateFromString(t))}),this.initDatePickers(),this.events()},o.prototype.initDatePickers=function(){var e=this;this.$datePickerFrom.datepicker({dateFormat:"dd/mm/yy",showOtherMonths:!1,maxDate:0,defaultDate:"-1m",hideIfNoPrevNext:!0,onSelect:function(t){e.$datePickerTo.datepicker("option","minDate",t)}}),this.$datePickerTo.datepicker({dateFormat:"dd/mm/yy",maxDate:0,minDate:"-1m",defaultDate:0,showOtherMonths:!1,hideIfNoPrevNext:!0,onSelect:function(t){e.$datePickerFrom.datepicker("option","maxDate",t)}})},o.prototype.events=function(){var s=this;s.$dataTableContainer.find("select.js-table-filter").on("change",function(e){s.filterTable(a(this))}),s.$dataTableContainer.find("select.js-table-filter-multi").on("change",function(e){s.dataTable.draw()}),s.$dataTableContainer.find("input.js-table-search").on("keyup",function(){var e=a(this).val(),t=s.$dataTableContainer.find(".js-clear-search");s.searchTable(e),s.showOrHideClearButton(a(this),e.length,t)}),s.$dataTableContainer.find(".js-clear-search").on("click",function(){s.clearSearchFilter(a(this))}),s.$dataTableContainer.find(".reset-table-filters").on("click",function(){s.resetFilters()}),s.dataTable.on("draw",function(){s.countFilters(),s.updateFilterIndicator()}),s.dataTable.on("page.dt",function(){setTimeout(function(){a("html, body").scrollTop(a(t).height()-(a(e).height()+i))},10)}),s.$dateRangeField.focus(function(){s.$calendarContainer.fadeIn(),s.$calendarContainer.find(".ui-datepicker").show()}),s.$calendarCloseButton.click(function(){s.$calendarContainer.fadeOut()}),s.$dateFilterButton.click(function(){s.startDate=s.$datePickerFrom.datepicker("getDate"),s.endDate=s.$datePickerTo.datepicker("getDate"),s.$dateRangeField.val(s.getStringFromDate()),s.$calendarContainer.fadeOut(),s.dataTable.draw()}),s.$dateClearButton.click(function(){var e=new Date;s.$dateRangeField.val(""),s.startDate=null,s.endDate=null,s.$calendarContainer.fadeOut(),e.setMonth(e.getMonth()-1),s.$datePickerFrom.datepicker("setDate",e),s.$datePickerTo.datepicker("setDate",new Date),s.dataTable.draw()})},o.prototype.getDateFromString=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e.split(" "),s=t.indexOf(a[1]);return new Date(a[2],s,a[0])},o.prototype.getStringFromDate=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=this.startDate.getDate()+" "+e[parseInt(this.startDate.getMonth())]+" "+this.startDate.getFullYear().toString()+" - "+this.endDate.getDate()+" "+e[parseInt(this.endDate.getMonth())]+" "+this.endDate.getFullYear().toString();return t},o.prototype.resetFilters=function(){var e=this,t=new Date;e.$dataTableContainer.find("input[name=search-string]").val(""),e.$dateRangeField.val(""),e.startDate=null,e.endDate=null,this.$dataTableContainer.find("select.SlectBox").each(function(){a(this)[0].sumo.selectItem(0)}),t.setMonth(t.getMonth()-1),e.$datePickerFrom.datepicker("setDate",t),e.$datePickerTo.datepicker("setDate",new Date),e.dataTable.search("").column().search("").draw()},o.prototype.showOrHideClearButton=function(e,t,a){t>0?a.show():a.hide()},o.prototype.clearSearchFilter=function(e){this.$dataTableContainer.find("input[name=search-string]").val(""),this.searchTable(""),e.hide()},o.prototype.filterTable=function(e){var t=e.attr("data-filter");this.dataTable.column(t).search(e.val()).draw()},o.prototype.searchTable=function(e){this.dataTable.search(e).draw()},o.prototype.countFilters=function(){var e=this;e.appliedFilters=0,e.$dataTableContainer.find("select.js-table-filter").each(function(){a(this).children(":selected").index()>0&&e.appliedFilters++}),e.$dataTableContainer.find("select.js-table-filter-multi").each(function(){var t=a(this).val();if(t)for(var s=0;s<t.length;s++)e.appliedFilters++}),e.$dataTableContainer.find("input[name=search-string]").each(function(){a(this).val().length>0&&e.appliedFilters++}),e.$dataTableContainer.find("input[name=date-range]").each(function(){a(this).val().length>0&&e.appliedFilters++})},o.prototype.updateFilterIndicator=function(){var e=this;0!==e.$dataTableContainer.find(".filters-indicator").length&&(0===e.appliedFilters&&(e.$dataTableContainer.find(".filters-indicator .reset-table-filters").hide(),e.$dataTableContainer.find(".filters-indicator span").text("No filters selected"),e.$dataTableContainer.find(".filters-indicator").removeClass("active-filters")),1===e.appliedFilters&&(e.$dataTableContainer.find(".filters-indicator .reset-table-filters").text("Remove filter").show(),e.$dataTableContainer.find(".filters-indicator span").text("1 filter selected"),e.$dataTableContainer.find(".filters-indicator").addClass("active-filters")),e.appliedFilters>1&&(e.$dataTableContainer.find(".filters-indicator .reset-table-filters").text("Remove filters").show(),e.$dataTableContainer.find(".filters-indicator span").text(e.appliedFilters+" filters selected"),e.$dataTableContainer.find(".filters-indicator").addClass("active-filters")))},o.prototype.settings=function(){var e={ordering:!1,info:!1,lengthChange:!1,searching:!0,displayLength:this.numRows};return e},a.fn.dataTable.ext.search.push(function(t,s,i){var r=s[0],o=n(r),l=(a(t.nTable).closest(".data-table-container"),t.sInstance.slice("DataTables_Table_".length)||!1),d=e.sseDataTables[l]?e.sseDataTables[l].startDate:null,c=e.sseDataTables[l]?e.sseDataTables[l].endDate:null;return!!(null===d&&null===c||isNaN(d)&&isNaN(c)||isNaN(d)&&o<=c||!d&&!c||"undefined"==typeof d&&"undefined"==typeof c||d<=o&&isNaN(c)||d<=o&&o<=c)}),a(function(){var t=[];a("select.js-table-filter-multi").each(function(){var e=a(this);a.fn.dataTable.ext.search.push(function(t,a,s){var i=e,n=i.val(),r=i.attr("data-filter"),o=a[r];if(n)for(var l=0;l<n.length;l++)if(n[l].toLowerCase().indexOf(o.toLowerCase())>-1)return!0})}),a(".data-table-container").each(function(e){t[e]=new o(a(this))}),a(".paginate_button").on("mouseenter",function(e){i=r()}),e.sseDataTables=t})}(this,this.document,$),function(e,t,a,s){"use strict";a(t).ready(function(){a(".main .container ul.tabs").length>0&&a(".main .container ul.tabs").tabs("div.panes > div")})}(this,this.document,$),function(e,t,a,s){"use strict";a(t).ready(function(){function e(e,t){e.removeClass("js-expanded"),t.css("height",0)}function t(e,t,a){e.addClass("js-expanded"),t.css("height",a)}var s,i,n,r,o=a(".toggle-tip");o.each(function(){i=a(this),s=i.children("a"),n=s.next(),r=n.children().height()+15,s.on("click",function(a){a.preventDefault(),s.parent().hasClass("js-expanded")?e(i,n):t(i,n,r)})})})}(this.window,this.document,jQuery),function(e,t,a){"use strict";var s=e.Modules||function(){};s.prototype.d3UsageGraph=function(){function e(e){console.info("D3 usage graph module",e)}e()},e.Modules=s}(this.window,this.document),function(e,t,a){"use strict";var s=e.Modules||function(){},i=s.header2017=function(e){this.$el=$(e),this.init()};i.prototype.init=function(e){var t=$("[data-js-module=header2017] .change-user-region select"),a=t.val(),s=this.$el.find(".sub-menu-trigger");this._regionChangeListener(t,a),this._armSubMenuTriggers(s)},i.prototype._regionChangeListener=function(e,t){var a=this;e.on("change",function(){var e=$(this).val();return t!=e&&void a._changeRegion(e)})},i.prototype._changeRegion=function(t){e.location=t},i.prototype._armSubMenuTriggers=function(e){var t=this;e.click(function(e){e.stopPropagation(),e.preventDefault(),$(this).hasClass("sub-menu-visible")?t._hideSubMenu($(this)):t._showSubMenu($(this))})},i.prototype._showSubMenu=function(e){this.$el.find(".sub-menu-visible").removeClass("sub-menu-visible"),e.addClass("sub-menu-visible"),e.next("ul").addClass("sub-menu-visible"),this._armPageDismiss(e)},i.prototype._hideSubMenu=function(e){e.removeClass("sub-menu-visible"),e.next("ul").removeClass("sub-menu-visible"),this._disarmPageDismiss()},i.prototype._armPageDismiss=function(e){var t=this;$(":not(.nav-with-sub-menu *)").on("click.submenu",function(a){t._hideSubMenu(e)})},i.prototype._disarmPageDismiss=function(){$(":not(.nav-with-sub-menu *)").off("click.submenu")},e.Modules=s}(this.window,this.document),function(e,t,a){"use strict";var s=e.Modules||function(){},i=s.meterReading=function(e){this.$el=$(e),this.init()};i.prototype.init=function(){this.$tabs=this.$el.find(".meter-reading_tabs li"),this.$tabs.length>0&&this.initTabs()},i.prototype.initTabs=function(){var e=this,t=this.$el.find(".meter-reading_tab-content");0===this.getActives().length&&(this.$tabs.eq(0).addClass("is-active"),t.eq(0).addClass("is-active")),this.$tabs.each(function(a,s){$(s).on("click",function(){if($(this).hasClass("is-active"))return!1;var s=t.eq(a);e.removeActiveStates(),$(this).addClass("is-active"),s.addClass("is-active")})})},i.prototype.getActives=function(){return this.$el.find(".meter-reading_tabs li.is-active, .meter-reading_tab-content.is-active")},i.prototype.removeActiveStates=function(){var e=this.getActives();e.removeClass("is-active")},e.Modules=s}(this.window,this.document),function(e,t){"use strict";$(t).ready(function(){if(!e.Component)return!1;var t,a=(new e.Component,$("[data-js-component]"));console.groupCollapsed("Component initialisation");for(var s=0;s<a.length;s++){t=$(a[s]).data("js-component");var i=null;try{i=new Component[t](a[s])}catch(n){console.info(t,"is not a valid component, moving on..."),console.error(n)}i&&(console.groupCollapsed(t+" component"),console.info(a[s]),console.groupEnd(t+" component"))}console.groupEnd("Component initialisation")})}(this.window,this.document),function(e,t,a){"use strict";var s=e.Component||function(){},i=s.dateGetter=function(e){this.$el=$(e),this.init(e),this.fromDate=null,this.toDate=null,this.fromDateStr=null,this.toDateStr=null,this.prevDate=-1,this.currDate=-1};i.prototype.init=function(e){var t=this;this.$trigger=this.$el.find(".trigger"),this.initialTriggerText=this.$trigger.text(),this.$fromBox=this.$el.find(".from-box"),this.$fromBoxPrefix=this.$fromBox.html(),this.$toBox=this.$el.find(".to-box"),this.$toBoxPrefix=this.$toBox.html(),this.$calPopup=this.$el.find(".cal-popup"),this.$calContain=this.$calPopup.find(".cal-contain"),this.$calApply=this.$el.find(".cal-apply"),this.$calClear=this.$el.find(".cal-clear"),this.$calContain.datepicker({onSelect:this.daySelect.bind(this),beforeShowDay:this.highlightDayIfInRange.bind(this)}),this.$calApply.on("click",this.applyRange.bind(this)),this.$calClear.on("click",this.clearRange.bind(this)),this.$trigger.on("click",function(){var e=$(this).hasClass("is-active");e?($(this).removeClass("is-active"),t.$calPopup.removeClass("is-active")):($(this).addClass("is-active"),t.$calPopup.addClass("is-active"))})},i.prototype.applyRange=function(){var e=this.$el.closest(".c-data-table"),t=e.find(".dataTable"),a=t.DataTable();this.$trigger.html(this.fromDateStr+" - "+this.toDateStr),this.$trigger.removeClass("is-active"),this.$calPopup.removeClass("is-active"),this.$el.data("dates",{from:this.fromDate,to:this.toDate}),a.draw()},i.prototype.clearRange=function(){var e=this.$el.closest(".c-data-table"),t=e.find(".dataTable"),a=t.DataTable();this.$trigger.html(this.initialTriggerText),this.$calPopup.addClass("is-in-date-from-mode").removeClass("is-in-date-to-mode").removeClass("has-valid-date-range").removeClass("has-from-date").removeClass("has-to-date").removeClass("forced"),this.$el.data("dates",null),this.prevDate=this.currDate=-1,this.fromDate=this.toDate=null,this.$fromBox.html(this.$fromBoxPrefix).data("selected-date",null),this.$toBox.html(this.$toBoxPrefix).data("selected-date",null),this.$fromBox.off("click.fromClick"),this.$toBox.off("click.toClick"),this.$calContain.datepicker("setDate",new Date),a.draw()},i.prototype.highlightDayIfInRange=function(e){var t=(null!==this.fromDate&&null!==this.toDate,""),a=new Date(e.getTime()),s=a.getMonth();return a.setDate(a.getDate()+1),this.fromDate&&this.toDate&&(t+=e.getTime()>=this.fromDate.getTime()&&e.getTime()<=this.toDate.getTime()?"is-in-range":""),e&&1===e.getDate()&&(t+=" is-first-of-month "),a.getMonth()!==s&&(t+=" is-last-of-month "),e&&this.fromDate&&e.getTime()===this.fromDate.getTime()&&(t+=" ui-datepicker-current-day from-date "),e&&this.toDate&&e.getTime()===this.toDate.getTime()&&(t+=" ui-datepicker-current-day to-date "),[!0,t,""]},i.prototype.daySelect=function(e,t){var a=($(this).find("td a"),this);this.prevDate=this.currDate,this.currDate=new Date(t.selectedYear,t.selectedMonth,t.selectedDay).getTime(),this.prevDate===-1?(this.prevDate=this.fromDate=new Date(this.currDate),this.$calPopup.removeClass("is-in-date-from-mode").addClass("is-in-date-to-mode")):!this.fromDate||this.toDate||this.$calPopup.hasClass("forced")?this.$calPopup.hasClass("is-in-date-from-mode")&&this.$calPopup.hasClass("forced")?(this.toDate=null,this.$toBox.html(this.$toBoxPrefix).data("selected-date",null),this.prevDate=this.fromDate=new Date(this.currDate),this.$calPopup.removeClass("is-in-date-from-mode").removeClass("forced").removeClass("has-valid-date-range").removeClass("has-to-date").addClass("is-in-date-to-mode"),this.$fromBox.off("click.fromClick"),this.$toBox.off("click.toClick")):this.currDate>=this.fromDate.getTime()?(this.toDate=new Date(this.currDate),this.$calPopup.removeClass("is-in-date-from-mode").addClass("is-in-date-to-mode")):(this.fromDate=new Date(this.currDate),this.$calPopup.removeClass("is-in-date-to-mode").addClass("is-in-date-from-mode")):(this.fromDate=new Date(Math.min(this.prevDate,this.currDate)),this.toDate=new Date(Math.max(this.prevDate,this.currDate)),this.$fromBox.on("click.fromClick",function(){a.fromDate&&a.toDate?a.$calPopup.removeClass("is-in-date-to-mode").addClass("forced").addClass("is-in-date-from-mode"):a.$calPopup.removeClass("is-in-date-to-mode").addClass("is-in-date-from-mode")}),this.$toBox.on("click.toClick",function(){a.fromDate&&a.$calPopup.removeClass("is-in-date-from-mode").removeClass("forced").addClass("is-in-date-to-mode")})),this.fromDateStr=$.datepicker.formatDate("dd/mm/y",this.fromDate,{}),this.toDateStr=$.datepicker.formatDate("dd/mm/y",this.toDate,{}),this.fromDate&&this.$fromBox.html(this.$fromBoxPrefix+" "+this.fromDateStr).data("selected-date",this.fromDate),this.toDate&&this.$toBox.html(this.$toBoxPrefix+" "+this.toDateStr).data("selected-date",this.toDate),this.fromDate&&this.toDate?this.$calPopup.addClass("has-valid-date-range"):this.$calPopup.removeClass("has-valid-date-range"),this.fromDate?this.$calPopup.addClass("has-from-date"):this.$calPopup.removeClass("has-from-date"),this.toDate?this.$calPopup.addClass("has-to-date"):this.$calPopup.removeClass("has-to-date")},e.Component=s}(this.window,this.document),function(e,t,a){"use strict";function s(e,t,a){var s=$(e.nTable).closest(".c-data-table").find(".c-date-getter");if(s.data("dates")&&s.data("dates").from&&s.data("dates").to){var i=s.data("dates"),n=new Date(t[e.oInit.dateCol]);return n>=i.from&&n<=i.to}return!0}var i=e.Component||function(){},n=i.dataTable=function(e){this.$el=$(e),this.init()},r=!1;n.prototype.init=function(){var e=this.$el.find("table").first();this.$filterWrapper=this.$el.find(".filter-area .filter-wrap"),this.$filterToggle=this.$el.find(".filter-area .toggle"),this.$selects=this.$el.find(".filter-area select");var t=this;e&&(this.$dataTable=e.DataTable({pageLength:12,info:!1,lengthChange:!1,searching:!0,ordering:!1,dateCol:0})),this.$filterWrapper&&this.$filterToggle&&this.$filterToggle.on("click",function(e){t.$filterWrapper.hasClass("is-visible")?t.hideFilters(t.$filterWrapper,t.$filterToggle):t.showFilters(t.$filterWrapper,t.$filterToggle)}),this.$selects.each(function(){var e,a=$(this).data("target-column"),s=$(this).data("exact"),i=["(",")","+",",","-"];new SelectFx(this,{onChange:function(n){if(s&&n){for(var r=0;r<i.length;r++)n=n.replace(i[r],"\\"+i[r]);e="^("+n+")$",t.$dataTable.column(a).search(e,!0,!1).draw()}else t.$dataTable.column(a).search(n).draw()}})})},n.prototype.showFilters=function(e,t){e.removeClass("is-hidden"),e.addClass("is-visible"),t.html(t.data("hide-text"))},n.prototype.hideFilters=function(e,t){e.addClass("is-hidden"),e.removeClass("is-visible"),t.html(t.data("show-text"))};for(var o=0;o<$.fn.dataTableExt.afnFiltering.length;o++)"dateFiltr"===$.fn.dataTableExt.afnFiltering[o].name&&(r=!0);r||$.fn.dataTableExt.afnFiltering.push(s),e.Component=i}(this.window,this.document),function(e,t){"use strict";var a=e.Component||function(){},s=a.modalOverlay=function(e){this.$el=$(e),this.init()};s.prototype.init=function(t){var a=$("[data-modal-target]"),s=$(".js-close-modal"),i=new e.Device.IEDetection;this.$allOverlays=$("[data-js-component=modalOverlay]"),this.ypos=0,this.hijackBackBtn=!i.isIE8&&!i.isIE9,this.activeOverlay=!1,this.preventAnimation=!1,this.disableKeyboardDismiss=!1,this._armTriggers(a),this._armKillers(s)},s.prototype._activeOverlayTarget=function(e){var t=e.data("js-active-target");if("undefined"!=typeof t){var a=$("body").find("#"+t+"-1");a.prop("checked",!0)}},s.prototype._showOverlay=function(t){var a=this,s=e.location.href;this.activeOverlay?(this.preventAnimation=!0,history.back()):this.ypos=$(e).scrollTop(),$("body").addClass("has-overlay"),setTimeout(function(){$(".page-wrap").height($(e).height()+"px"),a.$allOverlays.removeClass("is-top-most"),t.addClass("is-visible"),t.addClass("is-top-most"),t.removeClass("is-hidden"),a.hijackBackBtn&&(s.indexOf("#modal")===-1&&history.pushState(null,"",s+"#modal"),$(e).one("popstate",function(e){a._hideOverlay(t)})),t.find(".js-close-modal").first().focus(),$(e).scrollTop(0),this.activeOverlay=t},100)},s.prototype._hideOverlay=function(t){var a=this;return this.preventAnimation?(t.removeClass("is-visible"),this.activeOverlay=!1,this.preventAnimation=!1,this.disableKeyboardDismiss=!1,void this._resetForm(t)):(t.addClass("is-hiding"),$("body").removeClass("has-overlay"),$(".page-wrap").attr("style",null),$(e).scrollTop(this.ypos,300),void(Modernizr.cssanimations?t.one("transitionend animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){t.hasClass("is-hiding")&&(t.removeClass("is-visible"),t.removeClass("is-top-most"),t.removeClass("is-hiding"),a.activeOverlay=!1,a.disableKeyboardDismiss=!1,this._resetForm(t))}):(t.removeClass("is-visible"),t.removeClass("is-top-most"),t.removeClass("is-hiding"),a.activeOverlay=!1,a.disableKeyboardDismiss=!1,this._resetForm(t))))},s.prototype._armTriggers=function(e){var t,a,s=this;e.each(function(e,i){$(this).on("click",function(e){e.preventDefault();var i=$(this).data("trigger-options");a=$(this).data("modal-target"),t=$('[data-overlay-name="'+a+'"]').first(),t.length&&(s._showOverlay(t),$('[data-overlay-name="'+a+'"]').trigger("modalOpen",{triggerData:i}))})})},s.prototype._armKillers=function(a){var s=this;a.each(function(t,a){$(this).on("click",function(t){t.preventDefault();var a=$(this).closest(".c-modal-overlay").data("overlay-name");s.hijackBackBtn?history.back():(s._hideOverlay($(this).closest(".c-modal-overlay")),s._activeOverlayTarget($(this))),$(e).trigger("modalClose",{id:a})})}),$(t).on("keyup",function(e){if(27==e.keyCode&&!s.disableKeyboardDismiss){s.disableKeyboardDismiss=!0;var t=$(".c-modal-overlay.is-visible");t.length&&(s.hijackBackBtn?history.back():s._hideOverlay(t))}})},s.prototype._resetForm=function(e){e.find("input").blur(),e.find("form")[0]&&e.find("form")[0].reset(),e.find(".form-response-success, .form-response-fail, .form-dismiss").addClass("is-hidden"),e.find('.form-wrap, input[type="submit"]').show()},e.Component=a}(this.window,this.document),function(e,t,a){"use strict";var s=e.Component||function(){},i=s.nps=function(e,t){this.$el=$(e),this.$widgetEl=$(t),this.settings={sliderDefault:-1,feedbackVisible:!1,postUrl:"feedback.htm"},this.init(e)};i.prototype.init=function(e){this.bindUiActions(),this.clearSliders($(".feedback-form").find(".slider-container")),this.$widgetEl.length&&this.initWidget()},i.prototype.initWidget=function(){this.widget=new s.npsWidget(this.$widgetEl,this)},i.prototype.bindUiActions=function(){var e=this;$("#show-feedback").click(function(){e.settings.feedbackVisible?e.hideFeedback():e.showFeedback()}),$(".submit-success .close").click(function(){e.hideFeedback()}),$(".slider li a").click(function(){e.updateSlider($(this))}),$("#submit-feedback").click(function(t){t.preventDefault(),e.submitFeedback()})},i.prototype.submitFeedback=function(){var t=this,a={recommendationRating:$("#recommend").val(),satisfactionRating:$("#satisfied").val(),feedback:$("#comments").val(),sourceURL:e.location.href};t.validate(a)&&($.ajax({url:t.settings.postUrl,type:"POST",async:!0,dataType:"json",data:a}),t.showConfirmation())},i.prototype.showConfirmation=function(){var e=this;$("#feedback-container ul.tabs").slideUp("slow"),$(".feedback-form").slideUp("slow",function(){$(".submit-success").slideDown("slow"),e.widget&&e.widget.hide()})},i.prototype.updateSlider=function(e){var t=e.closest(".slider"),a=t.closest(".slider-container");t.children("li").removeClass("active"),e.closest("li").addClass("active"),a.next("input").val(e.text()),t.find("li a, li").removeClass("redraw"),a.removeClass("has-no-selection"),this.hideError(a.closest(".panel"))},i.prototype.showFeedback=function(){this.settings.feedbackVisible=!0,$("#feedback-container .feedback").slideDown("slow"),$("#show-feedback").addClass("minus")},i.prototype.hideFeedback=function(){this.settings.feedbackVisible=!1,$("#feedback-container .feedback").slideUp("slow"),$("#show-feedback").removeClass("minus")},i.prototype.clearSliders=function(e){e.each(function(){$(this).next("input").val(""),$(this).find(".active").removeClass("active"),$(this).addClass("has-no-selection")})},i.prototype.validate=function(e){var t={recommend:$("#recommend").closest(".panel"),satisfied:$("#satisfied").closest(".panel")};return!(!e.recommendationRating||!e.satisfactionRating)||(t.recommend.find(".slider-warning").remove(),e.recommendationRating?this.hideError(t.recommend):this.showError(t.recommend),t.satisfied.find(".slider-warning").remove(),void(e.satisfactionRating?this.hideError(t.satisfied):this.showError(t.satisfied)))},i.prototype.showError=function(e){var t="<p class='slider-warning'>Please select a rating below</p>";e.addClass("selection-warn"),e.find("h4").after(t)},i.prototype.hideError=function(e){e.removeClass("selection-warn"),e.find(".slider-warning").remove()},e.Component=s}(this.window,this.document),function(e,t,a){"use strict";var s=e.Component||function(){},i=s.npsWidget=function(e,t){this.$el=$(e),this.nps=t,this.hideFor=4e3,this.transitionFor=1500,this.init()};i.prototype.init=function(){var e=this,t=function(){setTimeout(function(){e.slideIn()},e.hideFor)};this.scrollTo(this.$el.parent(),t),this.bindEvents()},i.prototype.slideIn=function(){var t=this,a=$(e).width(),s=this.$el.parent().offset().left,i=this.$el.parent().width(),n=this.calculateInitialXPos(a,s,i),r=this.calculateFinalXPos(a,s,i);this.$el.css({right:n}),this.$el.removeClass("-is-hidden").addClass("-is-visible"),this.$el.velocity({translateX:r},{duration:t.transitionFor,easing:[250,15]})},i.prototype.calculateInitialXPos=function(e,t,a){var s=this.$el.width(),i=t+a,n=(e-i)*-1-s;return n},i.prototype.calculateFinalXPos=function(e,t,a){var s=t+a,i=(e-s+15)*-1;return i},i.prototype.hide=function(){this.$el.removeClass("-is-visible").addClass("-is-hidden")},i.prototype.bindEvents=function(){var e=this;this.$el.find("a").on("click",function(t){e.scrollTo(e.nps.$el),e.openNPSComponent(),t.preventDefault()})},i.prototype.scrollTo=function(e,t){var a=e.offset().top;$("html, body").animate({scrollTop:a},"slow",t)},i.prototype.openNPSComponent=function(){this.nps.showFeedback()},e.Component=s}(this.window,this.document),function(e,t,a){"use strict";var s=e.Component||function(){},i=s.toolTip=function(e){this.$el=$(e),this.init(e)};i.prototype.init=function(e){$(e).prev(".js-tooltip-trigger").on("click",this.toggleTip.bind(e)),$(e).on("click",this.toggleTip.bind(e))},i.prototype.toggleTip=function(e){e.preventDefault();var t=e.target,a=$(t).closest(".tooltip-content").length&&"i"!==$(t).context.tagName.toLowerCase();return!a&&($(this).hasClass("is-visible")?void $(this).removeClass("is-visible"):($(".c-tool-tip.is-visible").removeClass("is-visible"),$(".c-meter-reading-box.has-active-tool-tip").removeClass("has-active-tool-tip"),$(this).addClass("is-visible"),void($(this).closest(".c-meter-reading-box").length&&$(this).closest(".c-meter-reading-box").addClass("has-active-tool-tip"))))},e.Component=s}(this.window,this.document),function(e,t,a,s){"use strict";var i=e.Component||function(){},n=i.inputSelect=function(e){this.$el=a(e),this.init(e)};n.prototype.init=function(e){var t=a(e).find("select"),s=new SelectFx(t[0],{onChange:function(e){t.trigger("change")}});t.on("data-refresh",function(){s._refresh()})},n.prototype.getOptionsArray=function(e){for(var t=e.el.options,a=[],s=0;s<t.length;s++){var i=t[s];if(!i.defaultSelected||!i.disabled){var n={key:i.textContent,value:i};a.push(n)}}return a},n.prototype.attachKeyboardEvents=function(e,t){var a=getOptionsArray(e);e.selEl.addEventListener("keydown",function(s){var i=s.keyCode||s.which,n=-1;switch(i){case 65:s.preventDefault(),n=getFirstOptionByCharacter("a",a);break;case 66:s.preventDefault(),n=getFirstOptionByCharacter("b",a);break;case 67:s.preventDefault(),n=getFirstOptionByCharacter("c",a);break;case 68:s.preventDefault(),n=getFirstOptionByCharacter("d",a);break;case 69:s.preventDefault(),n=getFirstOptionByCharacter("e",a);break;case 70:s.preventDefault(),n=getFirstOptionByCharacter("f",a);break;case 71:s.preventDefault(),n=getFirstOptionByCharacter("g",a);break;case 72:s.preventDefault(),n=getFirstOptionByCharacter("h",a);break;case 73:s.preventDefault(),n=getFirstOptionByCharacter("i",a);break;case 74:s.preventDefault(),n=getFirstOptionByCharacter("j",a);break;case 75:s.preventDefault(),n=getFirstOptionByCharacter("k",a);break;case 76:s.preventDefault(),n=getFirstOptionByCharacter("l",a);break;case 77:s.preventDefault(),n=getFirstOptionByCharacter("m",a);break;case 78:s.preventDefault(),n=getFirstOptionByCharacter("n",a);break;case 79:s.preventDefault(),n=getFirstOptionByCharacter("o",a);break;case 80:s.preventDefault(),n=getFirstOptionByCharacter("p",a);break;case 81:s.preventDefault(),n=getFirstOptionByCharacter("q",a);break;case 82:s.preventDefault(),n=getFirstOptionByCharacter("r",a);break;case 83:s.preventDefault(),n=getFirstOptionByCharacter("s",a);break;case 84:s.preventDefault(),n=getFirstOptionByCharacter("t",a);break;case 85:s.preventDefault(),n=getFirstOptionByCharacter("u",a);break;case 86:s.preventDefault(),n=getFirstOptionByCharacter("v",a);break;case 87:s.preventDefault(),n=getFirstOptionByCharacter("w",a);break;case 88:s.preventDefault(),n=getFirstOptionByCharacter("x",a);break;case 89:s.preventDefault(),n=getFirstOptionByCharacter("y",a);break;case 90:s.preventDefault(),n=getFirstOptionByCharacter("z",a)}if(n>-1){e._removeFocus(),e.preSelCurrent=n,classie.add(e.selOpts[e.preSelCurrent],"cs-focus");var r=t.find(".cs-options ul li:nth-child("+parseInt(e.preSelCurrent+1)+")"),o=r.position().top;console.log(o),50!==o&&t.find(".cs-options").animate({scrollTop:o-50},"fast")}return!1})},n.prototype.getFirstOptionByCharacter=function(e,t){for(var a=-1,s=0;s<t.length;s++){var i=t[s];if(i.key.charAt(0).toLowerCase()===e){a=s;break}}return a},e.Component=i}(this.window,this.document,jQuery),function(e,t,a){"use strict";var s=e.Component||function(){},i=s.d3UsageGraph=function(e){this.el=e,this.$el=$(e),this.incomingDateFormat="%d %b %Y",this.outputDateFormat=d3.timeFormat("%d %b %Y"),this.dateKey="date",this.usageKey="value",this.meterId="id",this.curveType=d3.curveCatmullRom,this.chart={},this.dataSeries=[],this.colours={elec:"#7DC242",elecFaded:"#D8ECC7",elecOpaque:"rgba(125, 194, 66, 0.2)",gas:"#004687",gasFaded:"#B3C8DA",gasOpaque:"rgba(0, 70, 135, 0.2)",axis:"#ECEAE6"},this.layout={graphWidth:695,graphHeight:230,padding:{T:80,B:50,L:45,R:0},width:e.offsetWidth||745,height:e.offsetHeight||350},this.init(e)};i.prototype.init=function(t){var a=this;this.data=this.getData(t),this.data=this.parseReplaceData(this.data),this.data=this.sortData(this.dateKey,this.data),this.dataGrouped=this.groupData("id",this.data),this.gasData=this.getGasData(),this.elecData=this.getElecData(),this.elecDataSimplified=this.getElecDataSimplified(),this.gasDataSimplified=this.getGasDataSimplified(),this.chart=this.createD3Chart(t),this.hasElec=!!this.elecData.length,
this.hasGas=!!this.gasData.length,this.createChart(),this.chartTip=this.drawToolTip(this.chart),this.chartTipContents=this.drawToolTipContents(this.chartTip),this.renderedLegends=this.drawLegend(this.chart),this.layout.width=this.layout.graphWidth+this.layout.padding.L+this.layout.padding.R,this.layout.height=this.layout.graphHeight+this.layout.padding.T+this.layout.padding.B,this.createLegendListeners(this.el),this.createSeriesLineListeners(this.el),this.activateSeries(this.dataSeries[0].id),t.querySelectorAll&&(this.pollTilVisible=e.setInterval(function(){a.visibilityCheck()},500))},i.prototype.createChart=function(){var e=this,t=85,a=40;this.hasElec&&(this.scaleElec=this.createLinearScale(this.usageKey,this.elecDataSimplified,[this.layout.padding.T,this.layout.graphHeight]),this.dateScaleElec=this.createTimeScale(this.dateKey,this.elecDataSimplified,[this.layout.padding.L,this.layout.graphWidth]),this.xAxisElec=this.createXAxis(this.dateScaleElec),this.yAxisElec=this.createYAxis(this.scaleElec,"elec"),this.xAxisElecSvg=this.drawAxis(this.chart,this.xAxisElec,"translate(0, "+this.layout.graphHeight+")","x","elec"),this.yAxisElecSvg=this.drawAxis(this.chart,this.yAxisElec,"translate("+this.layout.padding.L+", 0)","y","elec"),this.lineGeneratorElec=this.createLineGenerator(this.dateScaleElec,this.dateKey,this.scaleElec,this.usageKey)),this.hasGas&&(this.scaleGas=this.createLinearScale(this.usageKey,this.gasDataSimplified,[this.layout.padding.T,this.layout.graphHeight]),this.dateScaleGas=this.createTimeScale(this.dateKey,this.gasDataSimplified,[this.layout.padding.L,this.layout.graphWidth]),this.xAxisGas=this.createXAxis(this.dateScaleGas),this.yAxisGas=this.createYAxis(this.scaleGas,"gas"),this.xAxisGasSvg=this.drawAxis(this.chart,this.xAxisGas,"translate(0, "+this.layout.graphHeight+")","x","gas"),this.yAxisGasSvg=this.drawAxis(this.chart,this.yAxisGas,"translate("+this.layout.padding.L+", 0)","y","gas"),this.lineGeneratorGas=this.createLineGenerator(this.dateScaleGas,this.dateKey,this.scaleGas,this.usageKey)),this.hoverCircle=this.drawHoverCircle(this.chart),this.dataGrouped.forEach(function(s){var i={id:s.key,isSelected:!1};"gas"===s.values[0].type.toLowerCase()?(i.type="gas",i.points=e.drawPoints(e.chart,s.values,e.dateScaleGas,e.scaleGas,e.colours.gasFaded,"chart-dots-gas"),i.lines=e.drawLine(e.chart,s.values,e.lineGeneratorGas,e.colours.gasFaded,"chart-line-gas"),i.legend={x:t,y:a,id:s.key,title:"Gas usage, m3/day",colour:e.colours.gasFaded,activeColour:e.colours.gas,type:"gas"}):(i.type="elec",i.points=e.drawPoints(e.chart,s.values,e.dateScaleElec,e.scaleElec,e.colours.elecFaded,"chart-dots-elec"),i.lines=e.drawLine(e.chart,s.values,e.lineGeneratorElec,e.colours.elecFaded,"chart-line-elec"),i.legend={x:t,y:a,id:s.key,title:"Electricity "+s.values[0].type+" usage, kWh/day",colour:e.colours.elecFaded,activeColour:e.colours.elec,type:"elec"}),e.dataSeries.push(i)}),this.hasElec&&(this.lineAnimationsElec=this.animateLines(this.el.querySelectorAll(".chart-line-elec")),this.dotAnimationsElec=this.animateDots(this.el.querySelectorAll(".chart-dots-elec")),this.removeAxisLabels("elec","x"),this.removeAxisLabels("elec","y")),this.hasGas&&(this.lineAnimationsGas=this.animateLines(this.el.querySelectorAll(".chart-line-gas")),this.dotAnimationsGas=this.animateDots(this.el.querySelectorAll(".chart-dots-gas")),this.removeAxisLabels("gas","x"),this.removeAxisLabels("gas","y"))},i.prototype.getData=function(e){var t,a=this.usageKey;return $(e).find("input")&&(t=$(e).find("input").data("usage"),"object"==typeof t&&t.data&&t.data.length)?t.data.filter(function(e){return e[a].indexOf("kWh")>-1||e[a].indexOf("m3")>-1}):void console.warn("You ain't got no data...")},i.prototype.getElecData=function(){for(var e=[],t=0;t<this.dataGrouped.length;t++)"Gas"!==this.dataGrouped[t].values[0].type&&e.push(this.dataGrouped[t]);return e},i.prototype.getGasData=function(){for(var e=[],t=0;t<this.dataGrouped.length;t++)"Gas"===this.dataGrouped[t].values[0].type&&e.push(this.dataGrouped[t]);return e},i.prototype.getElecDataSimplified=function(){for(var e,t=[],a=[],s=[],i=0;i<this.elecData.length;i++)for(var n=this.elecData[i].values,r=0;r<n.length;r++)t.push(n[r].value),a.push(n[r].date),s.push({value:n[r].value,date:n[r].date,type:n[r].type,reading:n[r].reading,"reading-type":n[r]["reading-type"],id:n[r].id});return e={values:t,dates:a,objects:s}},i.prototype.getGasDataSimplified=function(){for(var e,t=[],a=[],s=[],i=0;i<this.gasData.length;i++)for(var n=this.gasData[i].values,r=0;r<n.length;r++)t.push(n[r].value),a.push(n[r].date),s.push({value:n[r].value,date:n[r].date,type:n[r].type,reading:n[r].reading,"reading-type":n[r]["reading-type"],id:n[r].id});return e={values:t,dates:a,objects:s}},i.prototype.parseReplaceData=function(e){for(var t=0;t<e.length;t++)e[t][this.dateKey]&&(e[t][this.dateKey]=this.parseTime(e[t][this.dateKey])),e[t][this.usageKey]&&(e[t][this.usageKey]=parseInt(e[t][this.usageKey]));return e},i.prototype.parseTime=function(e){var t=d3.timeParse(this.incomingDateFormat);return t(e)},i.prototype.groupData=function(e,t){var a=d3.nest().key(function(t){return t[e]}).entries(t);return a},i.prototype.sortData=function(e,t){return"object"==typeof t?t.sort(function(t,a){return t[e]-a[e]}):(console.warn("Data wasn't an array"),t)},i.prototype.createD3Chart=function(e){var t=d3.select($(e).find(".chart")[0]);return t.append("svg:svg").attr("width",this.layout.width).attr("height",this.layout.height)},i.prototype.createXAxis=function(e){return d3.axisBottom(e).tickSizeInner(-(this.layout.graphHeight-this.layout.padding.T)).tickFormat(d3.timeFormat("%b'%y")).tickPadding(10)},i.prototype.createYAxis=function(e,t){return d3.axisLeft(e).tickSizeInner(-this.layout.graphWidth).tickArguments([4]).tickPadding(10)},i.prototype.createLinearScale=function(e,t,a){if(e){var s,i,n=d3.min(t.values),r=d3.max(t.values),o=r.toString().length,l=n.toString().length,d=r,c=n;if("number"==typeof r){for(s=1,i=1;i<o;i++)s*=10;d=r+(s-r%s)}if("number"==typeof n){for(s=1,i=1;i<l;i++)s*=10;c=n-n%s,n%s===0&&(c-=s/10)}return d3.scaleLinear().domain([d,c]).range(a)}},i.prototype.createTimeScale=function(e,t,a){var s,i,n;if(e)return i=new Date(d3.min(t.dates)),n=new Date(d3.max(t.dates)),s=d3.scaleTime().domain([i,n]).range(a)},i.prototype.createLineGenerator=function(e,t,a,s){return d3.line().x(function(a){return e(a[t])}).y(function(e){return a(e[s])}).curve(this.curveType)},i.prototype.drawAxis=function(e,t,a,s,i){return e.append("svg:g").attr("class","axis "+s+" "+i).attr("transform",a?a:"transform(0,0)").call(t)},i.prototype.removeAxisLabels=function(e,t){var a="."+e,s="."+t,i=".axis"+a+s+" .tick text",n=function(e){d3.selectAll(e).attr("class",function(e,t){(t+1)%3===0&&0!==t||d3.select(this).remove()})};"x"===t&&n(i)},i.prototype.drawLine=function(e,t,a,s,i){return e.append("path").data([t]).attr("d",a).attr("stroke",s).attr("stroke-width",2).attr("fill","none").attr("stroke-linecap","round").attr("class",i)},i.prototype.drawPoints=function(e,t,a,s,i,n){var r=this.showTooltip.bind(this);return e.selectAll("dot").data(t).enter().append("circle").attr("r",6).attr("fill",i).attr("cx",function(e){return a(e.date)}).attr("cy",function(e){return s(e.value)}).attr("class",n).on("mouseover",function(e,t){r(this,e,t)})},i.prototype.drawHoverCircle=function(e){return e.append("g").append("circle").style("opacity","0").style("stroke-width","1").attr("class","hover-circle").attr("r",9)},i.prototype.drawToolTip=function(e){var t=e.append("g").style("opacity",0);return t.append("rect").style("fill","#f1f1f1").attr("class","chart-tip").attr("width",200).attr("height",75),t},i.prototype.drawToolTipContents=function(e){var t=20,a="12px",s=500;return e.attr("font-size",a),e.append("text").text("Date:").attr("x",10).attr("y",1*t).attr("font-weight",s),e.append("text").text("Average daily usage:").attr("x",10).attr("y",2*t).attr("font-weight",s),e.append("text").text("Meter reading:").attr("x",10).attr("y",3*t).attr("font-weight",s),this.tipText={date:e.append("text").text("x").attr("x",42).attr("y",1*t),usage:e.append("text").text("x").attr("x",124).attr("y",2*t),reading:e.append("text").text("x").attr("x",92).attr("y",3*t)},e},i.prototype.drawLegend=function(e){var a=this,s=20,i="14px",n=300,r=e.append("g").style("cursor","pointer").attr("class","legends").attr("y",0),o=10,l=30,d=0,c=0,u=this.dataSeries[0].legend.x||0,h=u,p=this.dataSeries[0].legend.y||0,f=[];return this.dataSeries.forEach(function(e,m){var g=r.append("g").attr("class","legend").attr("id","legend-"+e.id),v=g.append("text"),w=g.append("circle"),y=g.append("rect");v.text(e.legend.title).attr("x",h).attr("y",p).attr("font-weight",n).attr("font-size",i).attr("color",e.legend.colour),w.attr("r",4).attr("transform","translate("+(h-(o+l/2))+","+(p-3.75)+")").attr("fill",e.legend.colour),y.attr("width",30).attr("height",2).attr("transform","translate("+(h-o-l)+","+(p-5)+")").attr("fill",e.legend.colour);var b=t.getElementById("legend-"+e.id),C=b.getBoundingClientRect();d=C.width+30,h+d-30>a.layout.graphWidth&&m>0?(h=u,p+=s,c++,v.attr("x",h).attr("y",p),r.attr("transform","translate(0, "+c*-10+")"),w.attr("transform","translate("+(h-(o+l/2))+","+(p-3.75)+")"),y.attr("transform","translate("+(h-o-l)+","+(p-5)+")"),h+=d):h+=d,e.renderedLegend={container:g,circle:w,rect:y},f.push(r)}),f},i.prototype.createLegendListeners=function(){var e=this;this.dataSeries.forEach(function(t){t.renderedLegend.container.on("click",function(){e.activateSeries(t.id)})})},i.prototype.createSeriesLineListeners=function(){var e=this;this.dataSeries.forEach(function(t){t.lines.on("click",function(){e.activateSeries(t.id)}),t.points.on("click",function(){e.activateSeries(t.id)})})},i.prototype.activateSeries=function(e){var t=this;this.dataSeries.forEach(function(a){a.id==e?("gas"==a.type?(t.xAxisElecSvg.style("display","none"),t.yAxisElecSvg.style("display","none"),t.xAxisGasSvg.style("display","inherit"),t.yAxisGasSvg.style("display","inherit"),t.hoverCircle.style("fill",t.colours.gasOpaque).style("stroke",t.colours.gas)):(t.xAxisGasSvg.style("display","none"),t.yAxisGasSvg.style("display","none"),t.xAxisElecSvg.style("display","inherit"),t.yAxisElecSvg.style("display","inherit"),t.hoverCircle.style("fill",t.colours.elecOpaque).style("stroke",t.colours.elec)),a.renderedLegend.circle.attr("fill",a.legend.activeColour),a.renderedLegend.rect.attr("fill",a.legend.activeColour),a.points.attr("fill",a.legend.activeColour),a.lines.attr("stroke",a.legend.activeColour),a.isSelected=!0):(a.renderedLegend.circle.attr("fill",a.legend.colour),a.renderedLegend.rect.attr("fill",a.legend.colour),a.points.attr("fill",a.legend.colour),a.lines.attr("stroke",a.legend.colour),a.isSelected=!1)})},i.prototype.mouseMoveElec=function(e){this.mouseMove(e,"elec")},i.prototype.mouseMoveGas=function(e){this.mouseMove(e,"gas")},i.prototype.showTooltip=function(e,t,a){var s="kWh",i="gas"===this.activeType,n=i&&"Gas"===t.type||!i&&"Gas"!==t.type;if(i&&(s="m3"),n){this.chartTip.style("opacity","inherit"),this.hoverCircle.style("opacity","inherit");var r=e.cx.baseVal.value,o=e.cy.baseVal.value,l=parseInt(this.hoverCircle.node().dataset.xpos)!==Math.round(r),d=parseInt(this.hoverCircle.node().dataset.ypos)!==Math.round(o),c=l&&d,u=r<200?r:r-200,h=o;if(this.hoverCircle.attr("transform","translate("+r+", "+o+")"),c&&(this.hoverCircle.attr("r",0),anime({targets:this.hoverCircle.node(),r:9,duration:1e3,delay:20,loop:!1,elasticity:100,easing:"easeOutCirc",autoplay:!0})),this.chartTip.attr("transform","translate("+u+","+h+")"),this.tipText.date.text(this.outputDateFormat(t.date)),this.tipText.usage.text(t.value+" ("+s+")"),this.tipText.reading.text(t.reading+" ("+t["reading-type"]+")"),c){var p=this.tipText,f={usage:0,reading:0};anime({targets:f,usage:t.value,reading:t.reading,easing:"easeOutExpo",duration:500,round:1,update:function(){p.usage.text(f.usage+" ("+s+")"),p.reading.text(f.reading+" ("+t["reading-type"]+")")}})}}},i.prototype.animateDots=function(e){for(var t=[],a=0;a<e.length;a++)e[a].setAttribute("r",0),t.push(anime({targets:e[a],r:6,duration:Math.floor(2e3*Math.random())+1,delay:Math.floor(2e3*Math.random())+1,loop:!1,easing:"easeInSine",autoplay:!1}));return t},i.prototype.animateLines=function(e){for(var t=[],a=0;a<e.length;a++)t.push(anime({targets:e[a],strokeDashoffset:[anime.setDashoffset,0],duration:3e3,delay:500,loop:!1,easing:"easeInOutSine",autoplay:!1}));return t},i.prototype.visibilityCheck=function(){if(this.el.offsetHeight&&this.el.getBoundingClientRect().top<e.innerHeight){var t,a=[];for(e.clearInterval(this.pollTilVisible),this.hasGas&&(a=a.concat(this.lineAnimationsGas),a=a.concat(this.dotAnimationsGas)),this.hasElec&&(a=a.concat(this.lineAnimationsElec),a=a.concat(this.dotAnimationsElec)),t=0;t<a.length;t++)a[t].play()}},e.Component=s}(this.window,this.document),function(e,t,a,s){"use strict";a.validator.addMethod("matchThisField",function(e,t,s){return!a(s).length||e===a(s).val()},a.validator.format("")),a.validator.addMethod("onKeyUpCheck",function(e,t,a){return!0},a.validator.format("")),a.validator.addMethod("notEqualTo",function(e,t,s){return!a(s).length||e!==a(s).val()},a.validator.format("")),a.validator.addMethod("containsAtLeastOneDigit",function(e){return/[0-9]/.test(e)},"Must have at least one number"),a.validator.addMethod("containsBothUpperLower",function(e){return/([A-Z].*[a-z]|[a-z].*[A-Z])/.test(e)},"Must contain both upper & lower case letters"),a.validator.addMethod("containsNoSpaces",function(e){return e.indexOf(" ")<0&&""!=e},"No space please and don't leave it empty"),a.validator.addMethod("validPhoneNumber",function(e,t){var a,s,i=new RegExp(/[0-9+-]/);for(a=0,s=e.length;a<s;a++)if(0==i.test(e[a]))return!1;return!0},"Please enter a valid phone number"),a.validator.addMethod("containsOnlyWhiteListCharacters",function(e,t){return/^[a-zA-Z0-9@_.,\/-]*$/gi.test(e)},"Only these special characters are allowed: @ . , - _ /"),a.validator.addMethod("containsOnlyWhiteListCharactersAndAccents",function(e,t){return/^[A-Z0-9@_.,\/-]*$/gi.test(e)},"Only these special characters are allowed: @ . , - _ /"),a.validator.addMethod("postcodeFormat",function(e,t,s){var i=a(t).closest(".form-details").find("#country").val();return"republic_of_ireland"===i.toLowerCase()?/^([A,C,D,E,F,H,K,N,P,R,T,V,W,X,Y]{1}[0-9]{1}[0-9,W]{1}[\ \-]?[0-9,A,C,D,E,F,H,K,N,P,R,T,V,W,X,Y]{4})$/gi.test(e):/(GIR 0AA|[A-PR-UWYZ]([0-9]{1,2}|([A-HK-Y][0-9]|[A-HK-Y][0-9]([0-9]|[ABEHMNPRV-Y]))|[0-9][A-HJKS-UW])( )?[0-9][ABD-HJLNP-UW-Z]{2})/gi.test(e)},a.validator.format("")),a.validator.addMethod("requiredIfNameNotEmpty",function(e,t){var s=a(t).closest(".additional-contact-form").find("[id^=contactFirstName][type=text]"),i=s.val().length,n=a(t).prop("checked");return!i||n},a.validator.format("")),a.validator.addMethod("requiredIfNoOtherPhoneNumbers",function(e,t){var s=a(t).closest(".form-details"),i=0,n=s.find("#mobileNumber").val().length;return!!n||(i+=s.find("#workPhoneNumber").val().length,i+=s.find("#homePhoneNumber").val().length,0!==i)},a.validator.format("")),a.validator.addMethod("requiredIfSMSAlertChecked",function(e,t){var s=a(t).closest(".form-details");return!s.find("#meterSMSYes").is(":checked")||s.find("#mobileNumber").val().length>0},a.validator.format("")),a.validator.addMethod("onlyOneHasValue",function(e,t,a){for(var s=0,i=0;i<a.length;i++)a[i].val().length&&s++;return 1===s},a.validator.format(""))}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";a(t).ready(function(){a(".mod-acc-info form#contactForm").length&&a(".mod-acc-info form#contactForm").each(function(){var e=a(this);e.validate({rules:{"personalDetailsVO.mobileNumber":{required:{depends:function(e){var t=a("input[name='personalDetailsVO.mobileNumber']").val(),s=a("input[name='personalDetailsVO.workPhoneNumber']").val(),i=a("input[name='personalDetailsVO.homePhoneNumber']").val();return 0==t.length&&0==s.length&&0==i.length}},validPhoneNumber:!0,onKeyUpCheck:!1},"myAirtricityDetailsVO.customerEmailAddress":{required:!0,email:!0},"personalDetailsVO.workPhoneNumber":{validPhoneNumber:!0,onKeyUpCheck:!1},"personalDetailsVO.homePhoneNumber":{validPhoneNumber:!0,onKeyUpCheck:!1}},messages:{"personalDetailsVO.mobileNumber":{required:"At least one phone number must be supplied",validPhoneNumber:"Please enter a valid phone number"},"myAirtricityDetailsVO.customerEmailAddress":{email:"Please enter a valid email address"},"personalDetailsVO.workPhoneNumber":{validPhoneNumber:"Please enter a valid phone number"},"personalDetailsVO.homePhoneNumber":{validPhoneNumber:"Please enter a valid phone number"}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onkeyup!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onfocusout:function(e){var t=a(e).val();t.length>0&&a(e).valid()},onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}})})}),a(t).ready(function(){a(".mod-acc-info #eBillingPanel form").length&&a(".mod-acc-info #eBillingPanel form").validate({rules:{"electronicBillingDetailsVO.electronicBillingEmailAddress":{required:function(e){return"postOnly"!==a('#eBillingPanel form input[name="electronicBillingDetailsVO.notificationOption"]:checked').val()},email:!0}},messages:{"electronicBillingDetailsVO.electronicBillingEmailAddress":{required:"Please enter a valid email address",email:"Please enter a valid email address"}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onKeyUpCheck!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}})}),a(t).ready(function(){a(".mod-acc-info #marketingDetails form").length&&a(".mod-acc-info #marketingDetails form").validate({rules:{"marketingInformationVO.marketingInformationSubscribed":{required:!0}},messages:{"marketingInformationVO.marketingInformationSubscribed":{required:"Please select an option"}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}})}),a(t).ready(function(){a(".mod-acc-info form#username-form").length&&a(".mod-acc-info form#username-form").validate({rules:{"myAirtricityDetailsVO.username":{required:!0,containsNoSpaces:!0,rangelength:[6,60],notEqualTo:"#username-form #confirmPassword",containsOnlyWhiteListCharacters:!0,onKeyUpCheck:!1},"myAirtricityDetailsVO.usernamePassword":{required:!0}},messages:{"myAirtricityDetailsVO.username":{required:"Please enter a new username",containsNoSpaces:"Must contain no spaces",rangelength:"Must include between 6 & 60 characters",notEqualTo:"Your username and password can't be the same",containsOnlyWhiteListCharacters:"Only these special characters are allowed: @ . , - _ /"},"myAirtricityDetailsVO.usernamePassword":{required:"Please confirm your password"}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onKeyUpCheck!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onfocusout:function(e){var t=a(e).val();t.length>0&&a(e).valid()},onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}})}),a(t).ready(function(){a(".mod-acc-info #passwordPanel form").length&&a(".mod-acc-info #passwordPanel form").each(function(){a(this).validate({rules:{"myAirtricityDetailsVO.currentPassword":{required:!0,onKeyUpCheck:!0},"myAirtricityDetailsVO.newPassword":{required:!0,containsBothUpperLower:!0,containsAtLeastOneDigit:!0,containsNoSpaces:!0,rangelength:[8,32],notEqualTo:"#passwordUsername",onKeyUpCheck:!0},"myAirtricityDetailsVO.newPasswordConfirmation":{required:!0,equalTo:"#newPassword",onKeyUpCheck:!0}},messages:{"myAirtricityDetailsVO.currentPassword":{required:"Please confirm your password"},"myAirtricityDetailsVO.newPassword":{required:"Please enter a new password",containsBothUpperLower:"Must contain both upper & lower case letters",containsAtLeastOneDigit:"Must have at least one number",containsNoSpaces:"Must contain no spaces",rangelength:"Must include between 8 & 32 characters",notEqualTo:"Please enter a password different to your username"},"myAirtricityDetailsVO.newPasswordConfirmation":{required:"Please provide a password",equalTo:"Your passwords don't match. Remember that passwords are case sensitive."}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onKeyUpCheck!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onfocusout:function(e){var t=a(e).val();t.length>0&&a(e).valid()},onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}})})}),a(t).ready(function(){var e,t="This is a required field";a(".mod-acc-info #billingPanel form").length&&(a(".mod-acc-info #billingPanel form select").change(function(t){e.element(a(this))}),a(".mod-acc-info #billingPanel form").each(function(){a.validator.setDefaults({ignore:":hidden:not(.c-input-select:visible select)"}),e=a(a(this)).validate({rules:{"personalDetailsVO.customerAddress.addressLine1":{required:!0,maxlength:60},"personalDetailsVO.customerAddress.addressLine2":{maxlength:60},"personalDetailsVO.customerAddress.county":{required:!0},"personalDetailsVO.customerAddress.postCodeNew":{required:{depends:function(e){return a(".country-option.-ni").hasClass("-is-active")||"United_Kingdom"==a("#country").val()}},postcodeFormat:{depends:function(e){return a(".country-option.-ni").hasClass("-is-active")||"United_Kingdom"==a("#country").val()}},maxlength:{param:10,depends:function(e){return a(".country-option.-global").hasClass("-is-active")}}},"personalDetailsVO.customerAddress.countrySimple":{required:!0}},messages:{"personalDetailsVO.customerAddress.addressLine1":{required:t,maxlength:"Must be less than 60 characters"},"personalDetailsVO.customerAddress.addressLine2":{maxlength:"Must be less than 60 characters"},"personalDetailsVO.customerAddress.county":{required:t},"personalDetailsVO.customerAddress.postCodeNew":{required:t,postcodeFormat:"Please enter a valid postcode",maxlength:"Must be less than 10 characters"},"personalDetailsVO.customerAddress.countrySimple":{required:t}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onfocusout:function(e){a(e).valid()},submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).is("select")?a(e).parents(".c-input-select").addClass("error").removeClass(s):a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).is("select")?a(e).parents(".c-input-select").removeClass("error").addClass(s):a(e).parents(".form-field").removeClass("error").addClass(s)}})}))})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";a.validator.setDefaults({ignore:":hidden:not(.validate-hidden)"}),a(t).ready(function(){a("#saveAdditionalContacts").length&&a("#saveAdditionalContacts").validate({rules:{contactChkAuth0:{requiredIfNameNotEmpty:!0}},messages:{contactChkAuth0:{requiredIfNameNotEmpty:"Please check the box to authorise this person to contact our customer service agents on your behalf."}},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).closest(".row").addClass("-error")},unhighlight:function(e,t,s){a(e).closest(".row").removeClass("-error")}})}),a(t).ready(function(){a("#saveBillingAddressDetails").length&&a("#saveBillingAddressDetails").validate({rules:{"personalDetailsVO.customerAddress.addressLine1":{required:!0},"personalDetailsVO.customerAddress.countrySimple":{required:!0},"personalDetailsVO.customerAddress.county":{required:function(e){return"Republic_of_Ireland"==a("#country").val()||"Northern_Ireland"==a("#country").val()}},"personalDetailsVO.customerAddress.postCodeNew":{required:!0,postcodeFormat:!0}},messages:{"personalDetailsVO.customerAddress.addressLine1":{required:"Please enter the first line of your address."},"personalDetailsVO.customerAddress.countrySimple":{required:"Please select a country"},"personalDetailsVO.customerAddress.county":{required:"Please select a county."},"personalDetailsVO.customerAddress.postCodeNew":{required:"Please select a postcode.",postcodeFormat:"This doesn't look right. Please check and try again."}},errorPlacement:function(e,t){"text"===t[0].type&&(a(t).parent().hasClass("double-up")?a(t).parent().append(e):a(t).after(e)),a(t).find("option").length&&a(t).closest(".row").append(e)},highlight:function(e,t,s){a(e).closest(".row").addClass("-error")},unhighlight:function(e,t,s){a(e).closest(".row").removeClass("-error")}})}),a(t).ready(function(){a('form[name="savePersonalDetails"]').length&&a('form[name="savePersonalDetails"]').validate({rules:{"personalDetailsVO.mobileNumber":{requiredIfSMSAlertChecked:!0}},messages:{"personalDetailsVO.mobileNumber":{requiredIfSMSAlertChecked:"A mobile phone number is required for SMS reminders."}},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).closest(".row").addClass("-error")},unhighlight:function(e,t,s){a(e).closest(".row").removeClass("-error")}})}),a(t).ready(function(){a("#account-information #password-form").length&&a("#password-form").validate({rules:{newPassword:{required:!0,minlength:4},newPasswordConfirmation:{required:!0,minlength:4,equalTo:"#newPassword"}},messages:{newPassword:{required:"Please provide a password",minlength:"Your password must be at least 4 characters long"},newPasswordConfirmation:{required:"Please provide a password",minlength:"Your confirmation password must be at least 4 characters long",equalTo:"Your passwords don't match. Remember that passwords are case sensitive."}},errorPlacement:function(e,t){e.prependTo(t.parent(".row").next(".submit"))},highlight:function(e,t,s){a(e).closest(".form-details").addClass("error")},unhighlight:function(e,t,s){a(e).closest(".form-details").removeClass("error")}})})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";a(t).ready(function(){if(a(".mod-auth-reset-multi form").validate({rules:{accountNumber:{required:function(e){return 0===a("#mprnGprn").val().length},number:!0,rangelength:[6,7],onlyOneHasValue:[a("#mprnGprn"),a("#accountNumber")]},mprnGprn:{required:function(e){return 0===a("#accountNumber").val().length},onlyOneHasValue:[a("#mprnGprn"),a("#accountNumber")]}},messages:{accountNumber:{required:"Please enter either an account number or an MPRN/GPRN.",number:"Please enter a number between 6 and 7 digits long.",rangelength:"Please enter a number between 6 and 7 digits long.",onlyOneHasValue:"Please enter only an account number or an MPRN/GPRN"},mprnGprn:{required:"Please enter either an account number or an MPRN/GPRN.",onlyOneHasValue:"Please enter only an account number or an MPRN/GPRN"}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onKeyUpCheck!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onfocusout:function(e){a(".mod-auth-reset-multi form").valid()},onsubmit:!0,errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}}),a(".mod-auth-reset").length>0){var e=a(".mod-auth-reset form").find("input[type=text],input[type=email],input[type=password]").filter(":visible:first");e.focus().setCursorToTextEnd();var t=e.val();t.length&&e.trigger("keyup")}})}(this.window,this.document,jQuery),function(e,t,a,s){"use strict";a(t).ready(function(){if(a(".mod-auth-reset form").validate({rules:{j_username:{required:!0},j_password:{required:!0},emailAddress:{required:!0,email:!0},username:{required:!0,containsNoSpaces:!0,rangelength:[6,60],notEqualTo:"#password",containsOnlyWhiteListCharacters:!0,onKeyUpCheck:!1},password:{required:!0,containsBothUpperLower:!0,containsAtLeastOneDigit:!0,containsNoSpaces:!0,rangelength:[8,32],notEqualTo:"#username"},confirmPassword:{matchThisField:"#password",required:!0,onKeyUpCheck:!1},accountNumber:{required:!0,number:!0,rangelength:[6,7]},phoneNumber:{required:!0,number:!0,minlength:4,maxlength:4}},messages:{j_username:{required:"Please enter your My SSE Airtricity username"},j_password:{required:"Please enter your My SSE Airtricity password"},emailAddress:{required:"Please enter a valid email address",email:"Please enter a valid email address"},username:{required:"Please enter a new username",containsNoSpaces:"Must contain no spaces",rangelength:"Must include between 6 & 60 characters",notEqualTo:"Your username and password can't be the same",containsOnlyWhiteListCharacters:"Only these special characters are allowed: @ . , - _ /"},password:{required:"Please enter a new password",containsBothUpperLower:"Must contain both upper & lower case letters",containsAtLeastOneDigit:"Must have at least one number",containsNoSpaces:"Must contain no spaces",rangelength:"Must include between 8 & 32 characters",notEqualTo:"Please enter a password different to your username"},confirmPassword:{matchThisField:"Passwords do not match",required:"Please confirm your new password"},accountNumber:{required:"Please enter a number between 6 and 7 digits long.",number:"Please enter a number between 6 and 7 digits long.",rangelength:"Please enter a number between 6 and 7 digits long."},phoneNumber:{required:"Please use exactly 4 digits. You can use any of the numbers you gave us when signing up to our service.",number:"Please use exactly 4 digits. You can use any of the numbers you gave us when signing up to our service.",minlength:"Please use exactly 4 digits. You can use any of the numbers you gave us when signing up to our service.",maxlength:"Please use exactly 4 digits. You can use any of the numbers you gave us when signing up to our service."}},errorElement:"p",errorClass:"inline-error",validClass:"valid",onkeyup:function(e){var t=a(e).attr("name");"undefined"!=typeof this.settings.rules[t].onKeyUpCheck&&this.settings.rules[t].onKeyUpCheck!==!1&&a.validator.defaults.onkeyup.apply(this,arguments)},onfocusout:function(e){var t=a(e).val();t.length>0&&a(e).valid()},onsubmit:!0,submitHandler:function(e){a("form button.btn").attr("disabled","disabled"),e.submit()},errorPlacement:function(e,t){a(t).after(e)},highlight:function(e,t,s){
a(e).parents(".form-field").addClass("error").removeClass(s)},unhighlight:function(e,t,s){a(e).parents(".form-field").removeClass("error").addClass(s)}}),a(".mod-auth-reset").length>0){var e=a(".mod-auth-reset form").find("input[type=text],input[type=email],input[type=password]").filter(":visible:first");e.focus().setCursorToTextEnd();var t=e.val();t.length&&e.trigger("keyup")}})}(this.window,this.document,jQuery),function(e,t){"use strict";$(t).ready(function(){if(!e.Validation)return!1;var t,a=(new e.Validation,$("[data-js-validation]"));new e.Validation.ValidationDefaults;console.groupCollapsed("Validation initialisation");for(var s=0;s<a.length;s++){t=$(a[s]).data("js-validation");var i=null;try{i=new Validation[t](a[s])}catch(n){console.log(n),console.info(t,"is not a valid validation, moving on...")}i&&(console.groupCollapsed(t+" validation"),console.info(a[s]),console.groupEnd(t+" validation"))}console.groupEnd("Validation initialisation")})}(this.window,this.document),function(e,t,a,s){"use strict";a(t).ready(function(){a(".mod-login-box form").validate({rules:{emailAddress:{required:!0,email:!0},newUsername:{matchThisField:"#newUsernameConfirm",required:!0},newUsernameConfirm:{matchThisField:"#newUsername",required:!0},newPassword:{matchThisField:"#newPasswordConfirm",required:!0},newPasswordConfirm:{matchThisField:"#newPassword",required:!0}},messages:{emailAddress:{required:"A valid email address is required",email:"A valid email address is required"},newUsername:{matchThisField:"Sorry, those usernames don't match. Remember, your username is Case Sensitive. Please try again.",required:"Sorry, those usernames don't match. Remember, your username is Case Sensitive. Please try again."},newUsernameConfirm:{matchThisField:"Sorry, those usernames don't match. Remember, your username is Case Sensitive. Please try again.",required:"Please enter a new username into both fields"},newPassword:{matchThisField:"Sorry, those passwords don't match. Remember, your password is Case Sensitive. Please try again.",required:"Sorry, those passwords don't match. Remember, your password is Case Sensitive. Please try again."},newPasswordConfirm:{matchThisField:"Sorry, those passwords don't match. Remember, your password is Case Sensitive. Please try again.",required:"Please enter a new password into both fields"}},errorElement:"div",errorClass:"msg -error",highlight:!1,unhighlight:!1,onfocusout:!1,onkeyup:!1,errorPlacement:function(e,t){a(".msg.-error").remove(),e.insertBefore(a(t).closest("form"))}})})}(this.window,this.document,jQuery),function(e,t){"use strict";var a=e.Validation||function(){},s=a.ValidationDefaults=function(){this.init()};s.prototype.init=function(){$.validator.setDefaults({errorClass:"-error",validClass:"-valid",focusCleanup:!1,focusInvalid:!1,errorElement:"span",ignore:":hidden:not(.c-input-select:visible select)",highlight:function(t,a,s){if($(t).closest("[class^=c-]").addClass(a).removeClass(s),e.app.device.detection.isIE8){t.parentElement.offsetHeight}},unhighlight:function(t,a,s){if($(t).closest("[class^=c-]").addClass(s).removeClass(a),e.app.device.detection.isIE8){t.parentElement.offsetHeight}},submitHandler:function(e){$("form button.btn, form button.button").attr("disabled","disabled"),e.submit()}})},e.Validation=a}(this.window,this.document),function(e,t){"use strict";var a=e.Validation||function(){},s=a.meterReadingForm=function(e){this.$el=$(e).find("form"),this.init()};s.prototype.init=function(){console.log("Form meter reading validation initialised");this.$el.validate();this.$el.find("input[type=text]").each(function(){$(this).rules("add",{required:!0,digits:!0,messages:{required:"You need to submit a reading",digits:"Please enter a valid meter reading"}})})},e.Validation=a}(this.window,this.document);